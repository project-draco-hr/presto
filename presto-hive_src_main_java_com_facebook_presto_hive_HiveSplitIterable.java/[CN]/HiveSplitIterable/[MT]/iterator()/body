{
  final SuspendingExecutor suspendingExecutor=new SuspendingExecutor(new BoundedExecutor(executor,maxThreads));
  final HiveSplitQueue hiveSplitQueue=new HiveSplitQueue(maxOutstandingSplits,suspendingExecutor);
  executor.submit(new Callable<Void>(){
    @Override public Void call() throws Exception {
      loadPartitionSplits(hiveSplitQueue,suspendingExecutor);
      return null;
    }
  }
);
  return hiveSplitQueue;
}

{
  if (length < 0) {
    throw new PrestoException(INVALID_FUNCTION_ARGUMENT,"Length smaller then zero");
  }
 else   if (length == 0) {
    return Slices.EMPTY_SLICE;
  }
  int indexEnd=offsetOfCodePoint(slice,length);
  if (indexEnd < 0) {
    return slice;
  }
  return slice.slice(0,indexEnd);
}

{
  if (state.get() == null) {
    out.appendNull();
  }
 else {
    Map<Double,Double> value=state.get().getBuckets();
    BlockBuilder blockBuilder=FloatType.FLOAT.createBlockBuilder(new BlockBuilderStatus(),value.size() * 2);
    for (    Map.Entry<Double,Double> entry : value.entrySet()) {
      FloatType.FLOAT.writeLong(blockBuilder,floatToRawIntBits(entry.getKey().floatValue()));
      FloatType.FLOAT.writeLong(blockBuilder,floatToRawIntBits(entry.getValue().floatValue()));
    }
    Block block=blockBuilder.build();
    out.writeObject(block);
    out.closeEntry();
  }
}

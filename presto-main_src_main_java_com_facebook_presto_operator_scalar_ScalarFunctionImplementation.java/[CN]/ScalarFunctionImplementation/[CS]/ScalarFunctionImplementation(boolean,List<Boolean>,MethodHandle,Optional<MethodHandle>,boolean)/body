{
  this.nullable=nullable;
  this.nullableArguments=ImmutableList.copyOf(requireNonNull(nullableArguments,"nullableArguments is null"));
  this.methodHandle=requireNonNull(methodHandle,"methodHandle is null");
  this.instanceFactory=requireNonNull(instanceFactory,"instanceFactory is null");
  this.deterministic=deterministic;
  if (instanceFactory.isPresent()) {
    Class<?> instanceType=instanceFactory.get().type().returnType();
    checkArgument(instanceType.equals(methodHandle.type().parameterType(0)),"methodHandle is not an instance method");
  }
}

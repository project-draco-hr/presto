{
  if (lookupSource == null) {
    lookupSource=tryGetFutureValue(lookupSourceFuture).orElse(null);
    if (lookupSource == null) {
      return null;
    }
  }
  if (probe != null) {
    while (joinCurrentPosition()) {
      if (!advanceProbePosition()) {
        break;
      }
      if (!outerJoinCurrentPosition()) {
        break;
      }
    }
  }
  if (lookupOnOuterSide && finishing && probe == null) {
    buildSideOuterJoinUnvisitedPositions();
  }
  if (pageBuilder.isFull() || (finishing && !pageBuilder.isEmpty() && probe == null)) {
    Page page=pageBuilder.build();
    pageBuilder.reset();
    return page;
  }
  return null;
}

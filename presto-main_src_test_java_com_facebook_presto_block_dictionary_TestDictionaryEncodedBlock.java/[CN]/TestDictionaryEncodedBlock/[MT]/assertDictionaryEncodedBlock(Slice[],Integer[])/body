{
  VariableWidthBlockBuilder dictionaryBlockBuilder=new VariableWidthBlockBuilder(new BlockBuilderStatus());
  for (  Slice expectedValue : dictionary) {
    dictionaryBlockBuilder.writeBytes(expectedValue,0,expectedValue.length()).closeEntry();
  }
  Block dictionaryBlock=dictionaryBlockBuilder.build();
  Slice[] expectedValues=new Slice[ids.length];
  BlockBuilder idsBlockBuilder=BIGINT.createBlockBuilder(new BlockBuilderStatus());
  for (int i=0; i < ids.length; i++) {
    Integer id=ids[i];
    if (id == null) {
      idsBlockBuilder.appendNull();
    }
 else {
      BIGINT.writeLong(idsBlockBuilder,id);
      expectedValues[i]=dictionary[id];
    }
  }
  Block idsBlock=idsBlockBuilder.build();
  assertBlock(new DictionaryEncodedBlock(dictionaryBlock,idsBlock),expectedValues);
}

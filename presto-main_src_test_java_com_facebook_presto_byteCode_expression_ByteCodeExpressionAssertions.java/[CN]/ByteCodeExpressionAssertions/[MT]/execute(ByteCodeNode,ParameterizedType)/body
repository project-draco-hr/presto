{
  ClassDefinition classDefinition=new ClassDefinition(new CompilerContext(),a(PUBLIC,FINAL),makeClassName("Test"),type(Object.class));
  classDefinition.declareMethod(new CompilerContext(),a(PUBLIC,STATIC),"test",returnType).getBody().append(node);
  if (DUMP_BYTE_CODE_TREE) {
    DumpByteCodeVisitor dumpByteCode=new DumpByteCodeVisitor(System.out);
    dumpByteCode.visitClass(classDefinition);
  }
  DynamicClassLoader classLoader=new DynamicClassLoader();
  ClassWriter cw=new SmartClassWriter(ClassInfoLoader.createClassInfoLoader(ImmutableList.of(classDefinition),classLoader));
  classDefinition.visit(cw);
  Class<?> clazz=classLoader.defineClass(classDefinition.getType().getJavaClassName(),cw.toByteArray());
  return clazz.getMethod("test").invoke(null);
}

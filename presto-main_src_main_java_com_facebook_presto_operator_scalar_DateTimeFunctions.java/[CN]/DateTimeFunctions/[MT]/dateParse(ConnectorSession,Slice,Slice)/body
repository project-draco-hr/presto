{
  DateTimeFormatter formatter=DATETIME_FORMATTER_CACHE.get(formatString).withChronology(getChronology(session.getTimeZoneKey())).withLocale(session.getLocale());
  try {
    return formatter.parseMillis(dateTime.toString(Charsets.UTF_8));
  }
 catch (  IllegalArgumentException e) {
    throw new PrestoException(StandardErrorCode.INVALID_FUNCTION_ARGUMENT.toErrorCode(),e);
  }
}

{
  if (!queryState.get().isDone()) {
    checkState(queryState.compareAndSet(QueryState.QUEUED,QueryState.PLANNING),"Could not transition to planning state, state is %s",queryState.get());
  }
}

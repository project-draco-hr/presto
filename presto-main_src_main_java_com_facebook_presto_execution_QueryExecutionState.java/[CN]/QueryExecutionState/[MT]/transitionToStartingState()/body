{
  if (!queryState.get().isDone()) {
    checkState(queryState.compareAndSet(QueryState.QUEUED,QueryState.STARTING) || queryState.compareAndSet(QueryState.PLANNING,QueryState.STARTING),"Could not transition to starting state, state is %s",queryState.get());
  }
}

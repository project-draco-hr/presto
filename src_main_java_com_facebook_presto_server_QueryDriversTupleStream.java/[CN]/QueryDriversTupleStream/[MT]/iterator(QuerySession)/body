{
  Preconditions.checkNotNull(session,"session is null");
  ImmutableList.Builder<QueryDriver> queries=ImmutableList.builder();
  try {
    QueryState queryState=new QueryState(driverProviders.size(),blockBufferMax);
    for (    QueryDriverProvider provider : driverProviders) {
      QueryDriver queryDriver=provider.create(queryState,info);
      queries.add(queryDriver);
      queryDriver.start();
    }
    return new QueryDriversBlockIterator(queryState,queries.build());
  }
 catch (  Throwable e) {
    for (    QueryDriver queryDriver : queries.build()) {
      queryDriver.cancel();
    }
    throw Throwables.propagate(e);
  }
}

{
  checkNotNull(requiredConfig,"requiredConfig is null");
  checkNotNull(optionalConfig,"optionalConfig is null");
  try (ThreadContextClassLoader ignored=new ThreadContextClassLoader(classLoader)){
    Bootstrap app=new Bootstrap(new JdbcModule(connectorId),module);
    Injector injector=app.strictConfig().doNotInitializeLogging().setRequiredConfigurationProperties(requiredConfig).setOptionalConfigurationProperties(optionalConfig).initialize();
    return injector.getInstance(JdbcConnector.class);
  }
 catch (  Exception e) {
    throw Throwables.propagate(e);
  }
}

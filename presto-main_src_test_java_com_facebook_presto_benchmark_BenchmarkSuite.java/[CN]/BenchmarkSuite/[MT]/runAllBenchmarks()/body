{
  LOGGER.info("=== Pre-running all benchmarks for JVM warmup ===");
  for (  AbstractBenchmark benchmark : BENCHMARKS) {
    benchmark.runBenchmark();
  }
  LOGGER.info("=== Actually running benchmarks for metrics ===");
  for (  AbstractBenchmark benchmark : BENCHMARKS) {
    try (OutputStream jmeterOut=new FileOutputStream(createOutputFile(String.format("%s/jmeter/%s.jtl",outputDirectory,benchmark.getBenchmarkName())));OutputStream jsonOut=new FileOutputStream(createOutputFile(String.format("%s/json/%s.json",outputDirectory,benchmark.getBenchmarkName())));OutputStream csvOut=new FileOutputStream(createOutputFile(String.format("%s/csv/%s.csv",outputDirectory,benchmark.getBenchmarkName())));OutputStream odsOut=new FileOutputStream(createOutputFile(String.format("%s/ods/%s.json",outputDirectory,benchmark.getBenchmarkName())))){
      benchmark.runBenchmark(new ForwardingBenchmarkResultWriter(ImmutableList.of(new JMeterBenchmarkResultWriter(benchmark.getDefaultResult(),jmeterOut),new JsonBenchmarkResultWriter(jsonOut),new SimpleLineBenchmarkResultWriter(csvOut),new OdsBenchmarkResultWriter("presto.benchmark." + benchmark.getBenchmarkName(),odsOut))));
    }
   }
}

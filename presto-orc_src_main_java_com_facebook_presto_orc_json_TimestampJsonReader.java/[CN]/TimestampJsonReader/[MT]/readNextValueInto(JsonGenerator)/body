{
  if (presentStream != null && !presentStream.nextBit()) {
    generator.writeNull();
    return;
  }
  verifyFormat(secondsStream != null,"Value is not null but seconds stream is not present");
  verifyFormat(nanosStream != null,"Value is not null but nanos stream is not present");
  long timestamp=decodeTimestamp(secondsStream.next(),nanosStream.next(),baseTimestampInSeconds);
  if (writeStackType) {
    generator.writeNumber(timestamp);
  }
 else {
    String formattedTimestamp=timestampFormatter.print(timestamp);
    generator.writeString(formattedTimestamp);
  }
}

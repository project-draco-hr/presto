{
  List<Block> values=ImmutableList.of(page.getBlock(valueChannel));
  Block masks=maskChannel.transform(page.blockGetter()).orNull();
  Block sampleWeights=sampleWeightChannel.transform(page.blockGetter()).orNull();
  for (int position=0; position < page.getPositionCount(); position++) {
    long sampleWeight=ApproximateUtils.computeSampleWeight(masks,sampleWeights,position);
    if (sampleWeight == 0) {
      continue;
    }
    if (anyIsNull(values,position)) {
      continue;
    }
    processInput(state,values,position,sampleWeight);
  }
}

{
  this.finalType=checkNotNull(finalType,"finalType is null");
  this.intermediateType=checkNotNull(intermediateType,"intermediateType is null");
  this.stateSerializer=checkNotNull(stateSerializer,"stateSerializer is null");
  this.stateFactory=checkNotNull(stateFactory,"stateFactory is null");
  this.inputChannels=ImmutableList.copyOf(checkNotNull(inputChannels,"inputChannels is null"));
  this.maskChannel=maskChannel;
  this.sampleWeightChannel=sampleWeightChannel;
  this.state=stateFactory.createSingleState();
  this.confidence=confidence;
}

{
  ImmutableMap.Builder<String,String> map=ImmutableMap.builder();
  ConfigurationLoader loader=new ConfigurationLoader();
  if (path.isPresent()) {
    map.putAll(loader.loadPropertiesFrom(path.get()));
  }
  map.putAll(loader.getSystemProperties());
  return new ConfigurationFactory(map.build()).build(clazz);
}

{
  Class<?> javaElementType=type.getJavaType();
  if (javaElementType == long.class) {
    return new LongOpenCustomHashSet((Collection<Long>)set,new LongStrategy(registry,type));
  }
  if (javaElementType == double.class) {
    return new DoubleOpenCustomHashSet((Collection<Double>)set,new DoubleStrategy(registry,type));
  }
  if (javaElementType == boolean.class) {
    return new BooleanOpenHashSet((Collection<Boolean>)set);
  }
 else   if (!type.getJavaType().isPrimitive()) {
    return new ObjectOpenCustomHashSet(set,new ObjectStrategy(registry,type));
  }
 else {
    throw new UnsupportedOperationException("Unsupported native type in set: " + type.getJavaType() + " with type "+ type.getTypeSignature());
  }
}

{
  Preconditions.checkNotNull(function,"function is null");
  Preconditions.checkNotNull(step,"step is null");
  this.function=function;
  this.inputs=inputs;
  this.step=step;
  this.intermediateValue=function.initialize();
  this.blocks=new Block[inputs.size()];
  this.blockCursors=new BlockCursor[inputs.size()];
  this.fields=new int[inputs.size()];
  for (int i=0; i < fields.length; i++) {
    fields[i]=inputs.get(i).getField();
  }
}

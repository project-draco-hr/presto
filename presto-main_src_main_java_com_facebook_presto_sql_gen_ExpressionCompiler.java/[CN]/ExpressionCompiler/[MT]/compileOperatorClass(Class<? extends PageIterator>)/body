{
  ClassDefinition classDefinition=new ClassDefinition(new CompilerContext(bootstrapMethod),a(PUBLIC,FINAL),typeFromPathName("FilterAndProjectOperator_" + CLASS_ID.incrementAndGet()),type(AbstractFilterAndProjectOperator.class));
  classDefinition.declareConstructor(new CompilerContext(bootstrapMethod),a(PUBLIC),arg("tupleInfos",type(List.class,TupleInfo.class)),arg("source",Operator.class)).getBody().loadThis().loadVariable("tupleInfos").loadVariable("source").invokeConstructor(AbstractFilterAndProjectOperator.class,List.class,Operator.class).ret();
  MethodDefinition iteratorMethod=classDefinition.declareMethod(new CompilerContext(bootstrapMethod),a(PUBLIC),"iterator",type(PageIterator.class),arg("source",PageIterator.class));
  iteratorMethod.getBody().newObject(iteratorClass).dup().loadThis().invokeInterface(Operator.class,"getTupleInfos",List.class).loadVariable("source").invokeConstructor(iteratorClass,Iterable.class,PageIterator.class).retObject();
  return defineClasses(ImmutableList.of(classDefinition)).values().iterator().next().asSubclass(Operator.class);
}

{
  MethodDefinition filterMethod=classDefinition.declareMethod(new CompilerContext(bootstrapMethod),a(PUBLIC),"filter",type(boolean.class),toTupleReaderParameters(inputTypes));
  filterMethod.comment("Filter: %s",filter.toString());
  filterMethod.getCompilerContext().declareVariable(type(boolean.class),"wasNull");
  TypedByteCodeNode body=new Visitor(bootstrapFunctionBinder,inputTypes).process(filter,filterMethod.getCompilerContext());
  if (body.type == void.class) {
    filterMethod.getBody().loadConstant(false).retBoolean();
  }
 else {
    LabelNode end=new LabelNode("end");
    filterMethod.getBody().comment("boolean wasNull = false;").loadConstant(false).storeVariable("wasNull").append(body.node).loadVariable("wasNull").ifZeroGoto(end).pop(boolean.class).loadConstant(false).visitLabel(end).retBoolean();
  }
}

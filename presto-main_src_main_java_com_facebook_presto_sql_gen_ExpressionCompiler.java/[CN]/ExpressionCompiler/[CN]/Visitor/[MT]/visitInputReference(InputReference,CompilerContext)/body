{
  Input input=node.getInput();
  int channel=input.getChannel();
  Type type=inputTypes.get(input);
  checkState(type != null,"No type for input %s",input);
  int field=input.getField();
  Block isNullCheck=new Block(context).setDescription(format("channel_%d.get%s(%d)",channel,type,field)).loadVariable("channel_" + channel).loadConstant(field).invokeInterface(TupleReadable.class,"isNull",boolean.class,int.class);
  Block isNull=new Block(context).loadConstant(true).storeVariable("wasNull");
  Block notNull=new Block(context).loadVariable("channel_" + channel).loadConstant(field);
  Class<?> nodeType;
switch (type) {
case BOOLEAN:
    isNull.loadConstant(0L);
  notNull.invokeInterface(TupleReadable.class,"getBoolean",boolean.class,int.class);
nodeType=boolean.class;
break;
case LONG:
isNull.loadConstant(0L);
notNull.invokeInterface(TupleReadable.class,"getLong",long.class,int.class);
nodeType=long.class;
break;
case DOUBLE:
isNull.loadConstant(0.0);
notNull.invokeInterface(TupleReadable.class,"getDouble",double.class,int.class);
nodeType=double.class;
break;
case STRING:
isNull.loadNull();
notNull.invokeInterface(TupleReadable.class,"getSlice",Slice.class,int.class);
nodeType=Slice.class;
break;
default :
throw new UnsupportedOperationException("not yet implemented: " + type);
}
return typedByteCodeNode(new IfStatement(context,isNullCheck,isNull,notNull),nodeType);
}

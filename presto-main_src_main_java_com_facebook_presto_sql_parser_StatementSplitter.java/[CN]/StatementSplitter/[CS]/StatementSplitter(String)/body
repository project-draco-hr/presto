{
  TokenSource tokens=getLexer(checkNotNull(sql,"sql is null"));
  ImmutableList.Builder<String> list=ImmutableList.builder();
  StringBuilder sb=new StringBuilder();
  while (true) {
    Token token;
    try {
      token=tokens.nextToken();
    }
 catch (    TokenizationException e) {
      sb.append(sql.substring(e.getCause().index));
      break;
    }
    if (token.getType() == Token.EOF) {
      break;
    }
    if (token.getType() == StatementLexer.SEMICOLON) {
      list.add(sb.toString().trim());
      sb=new StringBuilder();
    }
 else {
      sb.append(token.getText());
    }
  }
  this.completeStatements=list.build();
  this.partialStatement=sb.toString().trim();
}

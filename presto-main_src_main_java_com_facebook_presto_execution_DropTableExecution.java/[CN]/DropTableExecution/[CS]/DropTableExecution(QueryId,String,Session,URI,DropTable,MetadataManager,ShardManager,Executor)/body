{
  this.session=checkNotNull(session,"session is null");
  this.statement=statement;
  this.metadataManager=metadataManager;
  this.shardManager=shardManager;
  this.stateMachine=new QueryStateMachine(queryId,query,session,self,executor);
}

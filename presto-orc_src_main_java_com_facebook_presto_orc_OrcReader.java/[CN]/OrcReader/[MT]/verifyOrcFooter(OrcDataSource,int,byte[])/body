{
  int magicLength=MAGIC.length();
  checkArgument(postScriptSize >= magicLength + 1,"Malformed ORC file %s. Invalid postscript length %s",source,postScriptSize);
  if (!MAGIC.equals(Slices.wrappedBuffer(buffer,buffer.length - 1 - magicLength,magicLength))) {
    byte[] headerMagic=new byte[magicLength];
    source.readFully(0,headerMagic);
    checkArgument(MAGIC.equals(Slices.wrappedBuffer(headerMagic)),"Malformed ORC file %s. Invalid postscript.",source);
  }
}

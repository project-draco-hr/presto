{
  try (SetThreadName ignored=new SetThreadName("HttpRemoteTask-%s",taskId)){
    pendingSplits.clear();
    pendingSourceSplitCount=0;
    partitionedSplitCountTracker.setPartitionedSplitCount(getPartitionedSplitCount());
    if (currentRequest != null) {
      currentRequest.cancel(true);
      currentRequest=null;
      currentRequestStartNanos=0;
    }
    TaskInfo taskInfo=getTaskInfo();
    URI uri=taskInfo.getSelf();
    updateTaskInfo(new TaskInfo(taskInfo.getTaskId(),taskInfo.getTaskInstanceId(),TaskInfo.MAX_VERSION,TaskState.ABORTED,uri,taskInfo.getLastHeartbeat(),taskInfo.getOutputBuffers(),taskInfo.getNoMoreSplits(),taskInfo.getStats(),ImmutableList.<ExecutionFailureInfo>of(),taskInfo.isNeedsPlan()));
    Request request=prepareDelete().setUri(uriBuilderFrom(uri).addParameter("summarize").build()).build();
    scheduleAsyncCleanupRequest(new Backoff(MAX_CLEANUP_RETRY_TIME),request,"abort");
  }
 }

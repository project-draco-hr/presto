{
  injector.injectMembers(plugin);
  plugin.setOptionalConfig(optionalConfig);
  for (  BlockEncodingFactory<?> blockEncodingFactory : plugin.getServices(BlockEncodingFactory.class)) {
    blockEncodingManager.addBlockEncodingFactory(blockEncodingFactory);
  }
  for (  Type type : plugin.getServices(Type.class)) {
    typeRegistry.addType(type);
  }
  for (  ConnectorFactory connectorFactory : plugin.getServices(ConnectorFactory.class)) {
    connectorManager.addConnectorFactory(connectorFactory);
  }
  for (  SystemTable systemTable : plugin.getServices(SystemTable.class)) {
    systemTablesManager.addTable(systemTable);
  }
  for (  FunctionFactory functionFactory : plugin.getServices(FunctionFactory.class)) {
    metadataManager.addFunctions(functionFactory.listFunctions());
  }
  for (  OperatorFactory operatorFactory : plugin.getServices(OperatorFactory.class)) {
    metadataManager.addOperators(operatorFactory.listOperators());
  }
}

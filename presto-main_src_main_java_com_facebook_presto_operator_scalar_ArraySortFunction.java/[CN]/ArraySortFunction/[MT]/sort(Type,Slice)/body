{
  Block block=readStructuralBlock(encodedArray);
  List<Integer> positions=Ints.asList(new int[block.getPositionCount()]);
  for (int i=0; i < block.getPositionCount(); i++) {
    positions.set(i,i);
  }
  Collections.sort(positions,new Comparator<Integer>(){
    @Override public int compare(    Integer p1,    Integer p2){
      return type.compareTo(block,p1,block,p2);
    }
  }
);
  BlockBuilder blockBuilder=new VariableWidthBlockBuilder(new BlockBuilderStatus(),block.getSizeInBytes());
  for (  int position : positions) {
    type.appendTo(block,position,blockBuilder);
  }
  return buildStructuralSlice(blockBuilder);
}

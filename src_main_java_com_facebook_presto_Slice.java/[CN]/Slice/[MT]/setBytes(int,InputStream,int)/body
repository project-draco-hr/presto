{
  Preconditions.checkPositionIndexes(index,index + length,this.length);
  index+=offset;
  int readBytes=0;
  do {
    int localReadBytes=in.read(data,index,length);
    if (localReadBytes < 0) {
      if (readBytes == 0) {
        return -1;
      }
 else {
        break;
      }
    }
    readBytes+=localReadBytes;
    index+=localReadBytes;
    length-=localReadBytes;
  }
 while (length > 0);
  return readBytes;
}

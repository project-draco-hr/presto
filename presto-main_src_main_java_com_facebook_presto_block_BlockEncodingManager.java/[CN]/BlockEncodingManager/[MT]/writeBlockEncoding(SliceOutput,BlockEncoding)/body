{
  String encodingName=encoding.getName();
  BlockEncodingFactory<BlockEncoding> blockEncoding=(BlockEncodingFactory<BlockEncoding>)blockEncodings.get(encodingName);
  checkArgument(blockEncoding != null,"Unknown block encoding %s",encodingName);
  writeLengthPrefixedString(output,encodingName);
  blockEncoding.writeEncoding(this,output,encoding);
}

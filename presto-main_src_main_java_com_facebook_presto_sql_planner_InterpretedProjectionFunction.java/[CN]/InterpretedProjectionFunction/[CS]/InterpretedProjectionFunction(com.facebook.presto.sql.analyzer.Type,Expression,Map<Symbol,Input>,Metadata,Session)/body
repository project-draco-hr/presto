{
  this.type=checkNotNull(type,"type is null");
  Expression rewritten=ExpressionTreeRewriter.rewriteWith(new SymbolToInputRewriter(symbolToInputMapping),expression);
  evaluator=ExpressionInterpreter.expressionInterpreter(rewritten,metadata,session);
}

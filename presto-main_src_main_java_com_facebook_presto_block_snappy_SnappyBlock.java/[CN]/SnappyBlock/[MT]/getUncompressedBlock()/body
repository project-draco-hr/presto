{
  if (uncompressedBlock == null) {
    int uncompressedLength=Snappy.getUncompressedLength(compressedSlice.getBytes(),0);
    checkState(uncompressedLength > 0,"Empty block encountered!");
    byte[] output=new byte[uncompressedLength];
    Snappy.uncompress(compressedSlice.getBytes(),0,compressedSlice.length(),output,0);
    uncompressedBlock=uncompressedBlockEncoding.readBlock(Slices.wrappedBuffer(output).getInput()).toRandomAccessBlock();
  }
  return uncompressedBlock;
}

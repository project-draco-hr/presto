{
  IdentityHashMap<Expression,Type> expressionTypes=getExpressionTypes(session,metadata,types,input);
  ExpressionInterpreter interpreter=ExpressionInterpreter.expressionOptimizer(input,metadata,session,expressionTypes);
  return LiteralInterpreter.toExpression(interpreter.optimize(NoOpSymbolResolver.INSTANCE),expressionTypes.get(input));
}

{
  UncompressedBlock expectedBlock=new BlockBuilder(0,SINGLE_VARBINARY).append("alice").append("bob").append("charlie").append("dave").build();
  Page expectedPage=new Page(expectedBlock,expectedBlock,expectedBlock);
  DynamicSliceOutput sliceOutput=new DynamicSliceOutput(1024);
  writePages(sliceOutput,expectedPage,expectedPage,expectedPage);
  Iterator<Page> pageIterator=readPages(sliceOutput.slice().getInput());
  assertPageEquals(pageIterator.next(),expectedPage);
  assertPageEquals(pageIterator.next(),expectedPage);
  assertPageEquals(pageIterator.next(),expectedPage);
  assertFalse(pageIterator.hasNext());
}

{
  while (position >= currentMaxPosition) {
    Slice slice=Slices.allocate(sliceSize);
    slices.add(slice);
    currentMaxPosition+=sliceSize / fixedWidthSize;
  }
  int globalOffset=position * fixedWidthSize;
  int sliceIndex=globalOffset / sliceSize;
  Slice slice=slices.get(sliceIndex);
  int sliceOffset=globalOffset - (sliceIndex * sliceSize);
  function.initialize(slice,sliceOffset);
}

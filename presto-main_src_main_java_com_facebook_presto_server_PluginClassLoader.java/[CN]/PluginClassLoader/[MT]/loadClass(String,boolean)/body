{
synchronized (getClassLoadingLock(name)) {
    Class<?> cachedClass=findLoadedClass(name);
    if (cachedClass != null) {
      return resolveClass(cachedClass,resolve);
    }
    if (!isParentFirstClass(name)) {
      try {
        Class<?> clazz=findClass(name);
        return resolveClass(clazz,resolve);
      }
 catch (      ClassNotFoundException ignored) {
      }
    }
    if (!isHiddenClass(name)) {
      try {
        Class<?> clazz=getParent().loadClass(name);
        return resolveClass(clazz,resolve);
      }
 catch (      ClassNotFoundException ignored) {
      }
    }
    if (isParentFirstClass(name)) {
      Class<?> clazz=findClass(name);
      return resolveClass(clazz,resolve);
    }
    throw new ClassNotFoundException(name);
  }
}

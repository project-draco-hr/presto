{
  checkState(initialized,"nothing appended");
  checkState(!finished,"already finished");
  finished=true;
  if (buffer.size() > 0) {
    checkState(currentStartPosition >= 0,"invariant");
    write(sliceOutput,currentStartPosition,tupleCount,buffer.slice());
  }
}

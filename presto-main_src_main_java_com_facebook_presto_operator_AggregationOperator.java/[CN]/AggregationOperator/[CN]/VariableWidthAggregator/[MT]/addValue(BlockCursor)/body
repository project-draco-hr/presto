{
  BlockCursor cursor=cursors[channel];
  if (step == Step.FINAL) {
    intermediateValue=function.addIntermediate(cursor,intermediateValue);
  }
 else {
    intermediateValue=function.addInput(cursor,intermediateValue);
  }
}

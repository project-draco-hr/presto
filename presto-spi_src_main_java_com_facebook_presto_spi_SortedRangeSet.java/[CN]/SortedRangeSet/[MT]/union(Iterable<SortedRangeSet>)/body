{
  Iterator<SortedRangeSet> iterator=ranges.iterator();
  if (!iterator.hasNext()) {
    throw new IllegalArgumentException("ranges must have at least one element");
  }
  SortedRangeSet first=iterator.next();
  Builder builder=new Builder(first.type);
  builder.addAll(first);
  while (iterator.hasNext()) {
    builder.addAll(iterator.next());
  }
  return builder.build();
}

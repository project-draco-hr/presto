{
  nodeManager=new InMemoryNodeManager();
  ImmutableList.Builder<Node> nodeBuilder=ImmutableList.builder();
  nodeBuilder.add(new PrestoNode("other1",URI.create("http://127.0.0.1:11"),NodeVersion.UNKNOWN));
  nodeBuilder.add(new PrestoNode("other2",URI.create("http://127.0.0.1:12"),NodeVersion.UNKNOWN));
  nodeBuilder.add(new PrestoNode("other3",URI.create("http://127.0.0.1:13"),NodeVersion.UNKNOWN));
  ImmutableList<Node> nodes=nodeBuilder.build();
  nodeManager.addNode("foo",nodes);
  NodeSchedulerConfig nodeSchedulerConfig=new NodeSchedulerConfig().setMaxSplitsPerNode(20).setIncludeCoordinator(false).setMaxPendingSplitsPerNodePerTask(10);
  nodeTaskMap=new NodeTaskMap();
  nodeScheduler=new NodeScheduler(nodeManager,nodeSchedulerConfig,nodeTaskMap);
  locationFactory=new MockLocationFactory();
  splitFactory=new Supplier<ConnectorSplit>(){
    @Override public ConnectorSplit get(){
      return TestingSplit.createLocalSplit();
    }
  }
;
}

{
  while (true) {
    TaskState state=taskOutput.getState();
    if (maxWait.toMillis() <= 1 || state.isDone()) {
      return maxWait;
    }
    maxWait=taskOutput.waitForStateChange(state,maxWait);
  }
}

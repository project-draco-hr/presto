{
  ImmutableListMultimap<Node,SplitAssignments> index=Multimaps.index(splitAssignments,new Function<SplitAssignments,Node>(){
    @Override public Node apply(    SplitAssignments splitAssignments){
      List<Node> nodes=splitAssignments.getNodes();
      return nodes.get(random.nextInt(nodes.size()));
    }
  }
);
  return Multimaps.transformValues(index,new Function<SplitAssignments,Split>(){
    @Override public Split apply(    SplitAssignments splitAssignments){
      return splitAssignments.getSplit();
    }
  }
);
}

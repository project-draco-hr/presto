{
  checkNotNull(requiredConfig,"requiredConfig is null");
  checkNotNull(optionalConfig,"optionalConfig is null");
  try {
    Bootstrap app=new Bootstrap(new JsonModule(),new ExampleModule(connectorId));
    Injector injector=app.strictConfig().doNotInitializeLogging().setRequiredConfigurationProperties(requiredConfig).setOptionalConfigurationProperties(optionalConfig).initialize();
    ClassToInstanceMap<Object> services=ImmutableClassToInstanceMap.builder().put(ConnectorMetadata.class,injector.getInstance(ExampleMetadata.class)).put(ConnectorSplitManager.class,injector.getInstance(ExampleSplitManager.class)).put(ConnectorRecordSetProvider.class,injector.getInstance(ExampleRecordSetProvider.class)).put(ConnectorHandleResolver.class,injector.getInstance(ExampleHandleResolver.class)).build();
    return new ExampleConnector(services);
  }
 catch (  Exception e) {
    throw Throwables.propagate(e);
  }
}

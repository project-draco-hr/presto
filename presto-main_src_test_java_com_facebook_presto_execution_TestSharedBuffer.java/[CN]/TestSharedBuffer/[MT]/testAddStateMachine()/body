{
  SharedBuffer sharedBuffer=new SharedBuffer(TASK_ID,executor,sizeOfPages(10),INITIAL_EMPTY_OUTPUT_BUFFERS);
  sharedBuffer.finish();
  addPage(sharedBuffer,createPage(0));
  addPage(sharedBuffer,createPage(0));
  assertEquals(sharedBuffer.getInfo().getPagesAdded(),0);
  sharedBuffer=new SharedBuffer(TASK_ID,executor,sizeOfPages(10),INITIAL_EMPTY_OUTPUT_BUFFERS);
  sharedBuffer.destroy();
  addPage(sharedBuffer,createPage(0));
  addPage(sharedBuffer,createPage(0));
  assertEquals(sharedBuffer.getInfo().getPagesAdded(),0);
}

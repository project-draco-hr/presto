{
  Optional<PositionBlock> activePositions=positionBlock.filter(positions);
  if (!activePositions.isPresent()) {
    return Optional.absent();
  }
  return Optional.<ValueBlock>of(new MaskedValueBlock(valueBlock,activePositions.get()));
}

{
  SharedBuffer sharedBuffer=new SharedBuffer(TASK_ID,TASK_INSTANCE_ID,stateNotificationExecutor,retainedSizeOfPages(10));
  assertFalse(sharedBuffer.isFinished());
  sharedBuffer.destroy();
  assertFinished(sharedBuffer);
  sharedBuffer.setOutputBuffers(createInitialEmptyOutputBuffers().withNoMoreBufferIds());
  assertFinished(sharedBuffer);
  sharedBuffer.setOutputBuffers(createInitialEmptyOutputBuffers().withNoMoreBufferIds());
  assertFinished(sharedBuffer);
  sharedBuffer.setOutputBuffers(createInitialEmptyOutputBuffers().withBuffer(FOO,0).withNoMoreBufferIds());
}

{
  if (source instanceof ByteArraySlice) {
    ByteArraySlice src=(ByteArraySlice)source;
    setBytes(index,src.data,src.offset + sourceIndex,length);
  }
 else {
    ByteBuffer src=source.toByteBuffer(sourceIndex,length);
    ByteBuffer dst=toByteBuffer(index,length);
    dst.put(src);
  }
}

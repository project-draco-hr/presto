{
  if (rawPosition[0] >= blocks[0].getRawPositionCount() && !iterators[0].hasNext()) {
    for (    Iterator<? extends Block> iterator : iterators) {
      checkState(!iterator.hasNext());
    }
    return endOfData();
  }
  int length=Integer.MAX_VALUE;
  for (int i=0; i < iterators.length; i++) {
    Iterator<? extends Block> iterator=iterators[i];
    Block block=blocks[i];
    int rawPositionCount=block.getRawPositionCount();
    if (rawPosition[i] >= rawPositionCount) {
      block=iterator.next();
      blocks[i]=block;
      rawPosition[i]=0;
      rawPositionCount=block.getRawPositionCount();
    }
    length=Math.min(length,rawPositionCount - rawPosition[i]);
  }
  for (int i=0; i < blocks.length; i++) {
    blocks[i]=blocks[i].createViewPort(rawPosition[i],length);
  }
  for (int i=0; i < rawPosition.length; i++) {
    rawPosition[i]+=length;
  }
  return new Page(blocks);
}

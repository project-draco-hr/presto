{
  if (blocks[0].getRawRange().getEnd() < startPosition && !iterators[0].hasNext()) {
    for (    Iterator<? extends Block> iterator : iterators) {
      checkState(!iterator.hasNext());
    }
    return endOfData();
  }
  long endPosition=Long.MAX_VALUE;
  for (int i=0; i < iterators.length; i++) {
    Iterator<? extends Block> iterator=iterators[i];
    Block block=blocks[i];
    long blockEndPosition=block.getRawRange().getEnd();
    if (blockEndPosition < startPosition) {
      block=iterator.next();
      blocks[i]=block;
      blockEndPosition=block.getRawRange().getEnd();
    }
    endPosition=Math.min(endPosition,blockEndPosition);
  }
  Range range=new Range(startPosition,endPosition);
  startPosition=endPosition + 1;
  for (int i=0; i < blocks.length; i++) {
    blocks[i]=blocks[i].createViewPort(range);
  }
  return new Page(blocks);
}

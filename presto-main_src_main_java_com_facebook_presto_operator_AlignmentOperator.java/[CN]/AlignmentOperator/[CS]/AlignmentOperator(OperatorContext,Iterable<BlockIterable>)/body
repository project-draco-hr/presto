{
  this.operatorContext=checkNotNull(operatorContext,"operatorContext is null");
  this.types=toTypes(checkNotNull(channels,"channels is null"));
  expectedDataSize=BlockIterables.getDataSize(channels);
  expectedPositionCount=BlockIterables.getPositionCount(channels);
  ImmutableList.Builder<Iterator<Block>> iterators=ImmutableList.builder();
  for (  BlockIterable channel : channels) {
    iterators.add(channel.iterator());
  }
  this.iterators=iterators.build();
  blockPositions=new ArrayList<>(this.iterators.size());
  if (this.iterators.get(0).hasNext()) {
    for (    Iterator<Block> iterator : this.iterators) {
      blockPositions.add(new BlockPosition(iterator.next()));
    }
  }
 else {
    for (    Iterator<Block> iterator : this.iterators) {
      checkState(!iterator.hasNext());
    }
    finished=true;
  }
}

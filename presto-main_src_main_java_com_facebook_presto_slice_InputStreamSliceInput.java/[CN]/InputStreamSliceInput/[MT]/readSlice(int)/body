{
  if (length == 0) {
    return Slices.EMPTY_SLICE;
  }
  try {
    Slice newSlice=Slices.allocate(length);
    newSlice.setBytes(0,countingInputStream,length);
    return newSlice;
  }
 catch (  IOException e) {
    throw Throwables.propagate(e);
  }
}

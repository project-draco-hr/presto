{
  super(id);
  this.source=checkNotNull(source,"source is null");
  this.replicateSymbols=ImmutableList.copyOf(checkNotNull(replicateSymbols,"replicateSymbols is null"));
  checkNotNull(unnestSymbols,"unnestSymbols is null");
  checkArgument(!unnestSymbols.isEmpty(),"unnestSymbols is empty");
  ImmutableMap.Builder<Symbol,List<Symbol>> builder=ImmutableMap.builder();
  for (  Map.Entry<Symbol,List<Symbol>> entry : unnestSymbols.entrySet()) {
    builder.put(entry.getKey(),ImmutableList.copyOf(entry.getValue()));
  }
  this.unnestSymbols=builder.build();
}

{
  if (expression instanceof FieldReference) {
    int field=((FieldReference)expression).getFieldIndex();
    Preconditions.checkArgument(fieldSymbols[field] != null,"No mapping for field: %s",field);
    return fieldSymbols[field];
  }
  Expression translated=translateNamesToSymbols(expression);
  Preconditions.checkArgument(expressionMappings.containsKey(translated),"No mapping for expression: %s",expression);
  return expressionMappings.get(translated);
}

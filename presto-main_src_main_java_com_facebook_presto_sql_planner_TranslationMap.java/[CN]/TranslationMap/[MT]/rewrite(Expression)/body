{
  Expression mapped=translateNamesToSymbols(expression);
  return ExpressionTreeRewriter.rewriteWith(new ExpressionRewriter<Void>(){
    @Override public Expression rewriteExpression(    Expression node,    Void context,    ExpressionTreeRewriter<Void> treeRewriter){
      Expression rewrittenExpression;
      Symbol symbol=expressionMappings.get(node);
      if (symbol != null) {
        rewrittenExpression=new QualifiedNameReference(symbol.toQualifiedName());
      }
 else {
        rewrittenExpression=treeRewriter.defaultRewrite(node,context);
      }
      return rewrittenExpression;
    }
  }
,mapped);
}

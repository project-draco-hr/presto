{
  Expression mapped=translateNamesToSymbols(expression);
  return TreeRewriter.rewriteWith(new NodeRewriter<Void>(){
    @Override public Node rewriteExpression(    Expression node,    Void context,    TreeRewriter<Void> treeRewriter){
      Symbol symbol=expressionMappings.get(node);
      if (symbol != null) {
        return new QualifiedNameReference(symbol.toQualifiedName());
      }
      return treeRewriter.defaultRewrite(node,context);
    }
  }
,mapped);
}

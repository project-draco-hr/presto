{
  Expression mapped=translateNamesToSymbols(expression);
  return ExpressionTreeRewriter.rewriteWith(new ExpressionRewriter<Void>(){
    @Override public Expression rewriteExpression(    Expression node,    Void context,    ExpressionTreeRewriter<Void> treeRewriter){
      Symbol symbol=expressionMappings.get(node);
      if (symbol != null) {
        return new QualifiedNameReference(symbol.toQualifiedName());
      }
      return treeRewriter.defaultRewrite(node,context);
    }
  }
,mapped);
}

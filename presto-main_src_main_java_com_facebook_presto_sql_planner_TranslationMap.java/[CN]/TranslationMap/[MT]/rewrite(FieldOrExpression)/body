{
  if (fieldOrExpression.getField().isPresent()) {
    Symbol symbol=fieldMappings.get(fieldOrExpression.getField().get());
    Preconditions.checkState(symbol != null,"No mapping for field '%s'",fieldOrExpression.getField().get());
    return new QualifiedNameReference(symbol.toQualifiedName());
  }
 else {
    return rewrite(fieldOrExpression.getExpression().get());
  }
}

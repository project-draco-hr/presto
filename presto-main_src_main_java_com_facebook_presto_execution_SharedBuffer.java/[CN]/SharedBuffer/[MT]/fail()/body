{
  if (state.get().isTerminal()) {
    return;
  }
  state.set(FAILED);
  masterBuffer.clear();
  bufferedBytes=0;
  for (  QueuedPage queuedPage : queuedPages) {
    queuedPage.getFuture().set(null);
  }
  queuedPages.clear();
}

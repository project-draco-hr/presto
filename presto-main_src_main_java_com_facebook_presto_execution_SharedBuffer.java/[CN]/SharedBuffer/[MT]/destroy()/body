{
  state.set(FINISHED);
  masterBuffer.clear();
  bufferedBytes=0;
  for (  QueuedPage queuedPage : queuedPages) {
    queuedPage.getFuture().set(null);
  }
  queuedPages.clear();
  for (  NamedBuffer namedBuffer : namedBuffers.values()) {
    namedBuffer.abort();
  }
  processPendingReads();
}

{
  httpServerBinder(binder).bindResource("/","webapp").withWelcomeFile("index.html");
  discoveryBinder(binder).bindSelector("presto");
  binder.bind(QueryResource.class).in(Scopes.SINGLETON);
  binder.bind(StageResource.class).in(Scopes.SINGLETON);
  binder.bind(QueryIdGenerator.class).in(Scopes.SINGLETON);
  binder.bind(QueryManager.class).to(SqlQueryManager.class).in(Scopes.SINGLETON);
  newExporter(binder).export(QueryManager.class).withGeneratedName();
  bindConfig(binder).to(QueryManagerConfig.class);
  bindConfig(binder).to(FeaturesConfig.class);
  binder.bind(NativeConnectorId.class).toInstance(new NativeConnectorId("default"));
  binder.bind(NativeMetadata.class).in(Scopes.SINGLETON);
  binder.bind(NativeSplitManager.class).in(Scopes.SINGLETON);
  binder.bind(NativeDataStreamProvider.class).in(Scopes.SINGLETON);
  binder.bind(NativeRecordSinkProvider.class).in(Scopes.SINGLETON);
  binder.bind(SplitManager.class).in(Scopes.SINGLETON);
  binder.bind(InternalNodeManager.class).to(DiscoveryNodeManager.class).in(Scopes.SINGLETON);
  binder.bind(NodeManager.class).to(Key.get(InternalNodeManager.class)).in(Scopes.SINGLETON);
  bindConfig(binder).to(NodeSchedulerConfig.class);
  binder.bind(NodeScheduler.class).in(Scopes.SINGLETON);
  newExporter(binder).export(NodeScheduler.class).withGeneratedName();
  binder.bind(ShardManager.class).to(DatabaseShardManager.class).in(Scopes.SINGLETON);
  bindConfig(binder).to(ShardCleanerConfig.class);
  binder.bind(ShardCleaner.class).in(Scopes.SINGLETON);
  httpClientBinder(binder).bindHttpClient("shard-cleaner",ForShardCleaner.class);
  binder.bind(ShardResource.class).in(Scopes.SINGLETON);
  binder.bind(ExecutorService.class).annotatedWith(ForQueryExecution.class).toInstance(newCachedThreadPool(threadsNamed("query-execution-%d")));
  binder.bind(QueryExecutionMBean.class).in(Scopes.SINGLETON);
  newExporter(binder).export(QueryExecutionMBean.class).as(generatedNameOf(QueryExecution.class));
  MapBinder<Class<? extends Statement>,QueryExecutionFactory<?>> executionBinder=newMapBinder(binder,new TypeLiteral<Class<? extends Statement>>(){
  }
,new TypeLiteral<QueryExecutionFactory<?>>(){
  }
);
  binder.bind(DropTableExecutionFactory.class).in(Scopes.SINGLETON);
  executionBinder.addBinding(DropTable.class).to(DropTableExecutionFactory.class).in(Scopes.SINGLETON);
  binder.bind(SqlQueryExecutionFactory.class).in(Scopes.SINGLETON);
  executionBinder.addBinding(Query.class).to(SqlQueryExecutionFactory.class).in(Scopes.SINGLETON);
  executionBinder.addBinding(Explain.class).to(SqlQueryExecutionFactory.class).in(Scopes.SINGLETON);
  executionBinder.addBinding(ShowColumns.class).to(SqlQueryExecutionFactory.class).in(Scopes.SINGLETON);
  executionBinder.addBinding(ShowPartitions.class).to(SqlQueryExecutionFactory.class).in(Scopes.SINGLETON);
  executionBinder.addBinding(ShowFunctions.class).to(SqlQueryExecutionFactory.class).in(Scopes.SINGLETON);
  executionBinder.addBinding(ShowTables.class).to(SqlQueryExecutionFactory.class).in(Scopes.SINGLETON);
  executionBinder.addBinding(ShowSchemas.class).to(SqlQueryExecutionFactory.class).in(Scopes.SINGLETON);
  executionBinder.addBinding(ShowCatalogs.class).to(SqlQueryExecutionFactory.class).in(Scopes.SINGLETON);
  executionBinder.addBinding(UseCollection.class).to(SqlQueryExecutionFactory.class).in(Scopes.SINGLETON);
  executionBinder.addBinding(CreateTable.class).to(SqlQueryExecutionFactory.class).in(Scopes.SINGLETON);
}

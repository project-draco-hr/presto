{
  Map<String,Type> boundParameters=new HashMap<>();
  ImmutableMap.Builder<String,TypeParameter> builder=ImmutableMap.builder();
  for (  TypeParameter parameter : typeParameters) {
    builder.put(parameter.getName(),parameter);
  }
  ImmutableMap<String,TypeParameter> parameters=builder.build();
  if (!matchAndBind(boundParameters,parameters,this.returnType,returnType,allowCoercion,typeManager)) {
    return null;
  }
  if (!matchArguments(boundParameters,parameters,argumentTypes,types,allowCoercion,variableArity,typeManager)) {
    return null;
  }
  checkState(boundParameters.keySet().equals(parameters.keySet()),"%s matched arguments %s, but type parameters %s are still unbound",this,types,Sets.difference(parameters.keySet(),boundParameters.keySet()));
  return boundParameters;
}

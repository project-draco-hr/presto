{
  parameterTypes=replaceSameArgumentsWithCommonSuperType(parameterTypes);
  Map<String,OptionalLong> boundVariables=new HashMap<>();
  for (int index=0; index < argumentTypes.size(); index++) {
    TypeSignature argument=argumentTypes.get(index);
    if (argument.isCalculated()) {
      TypeSignature actualParameter=parameterTypes.get(index);
      Map<String,OptionalLong> matchedLiterals=TypeUtils.computeParameterBindings(argument,actualParameter);
      for (      String literal : matchedLiterals.keySet()) {
        OptionalLong value=matchedLiterals.get(literal);
        checkArgument(boundVariables.getOrDefault(literal,value).equals(value),"Literal [%s] with value [%s] for argument [%s] has been previously matched to different value [%s]",literal,value,argument,boundVariables.get(literal));
      }
      boundVariables.putAll(matchedLiterals);
    }
  }
  return boundVariables;
}

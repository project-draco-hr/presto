{
  BlockBuilder builder=new BlockBuilder(0,new TupleInfo(Type.VARIABLE_BINARY));
  ValueBlock block=builder.append("alice".getBytes(UTF_8)).append("bob".getBytes(UTF_8)).append("charlie".getBytes(UTF_8)).append("dave".getBytes(UTF_8)).build();
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  UncompressedBlockSerde.write(ImmutableList.of(block).iterator(),out);
  ImmutableList<UncompressedValueBlock> copiedBlocks=ImmutableList.copyOf(UncompressedBlockSerde.read(Slices.wrappedBuffer(out.toByteArray())));
  assertEquals(copiedBlocks.size(),1);
  ValueBlock copiedBlock=copiedBlocks.get(0);
  assertEquals(copiedBlock.getRange(),block.getRange());
  assertTrue(Iterators.elementsEqual(copiedBlock.iterator(),block.iterator()));
}

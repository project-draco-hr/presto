{
  state=State.FAILED;
  boolean sawThrowable=false;
  try {
    next=computeNext();
    if (state != State.DONE) {
      state=State.READY;
      Preconditions.checkNotNull(next,"next page is null");
      return true;
    }
    return false;
  }
 catch (  Throwable t) {
    sawThrowable=true;
    throw t;
  }
 finally {
    if (state != State.READY) {
      try {
        doClose();
      }
 catch (      Throwable t) {
        if (!sawThrowable) {
          throw t;
        }
 else {
          log.warn(t,"While closing iterator");
        }
      }
    }
  }
}

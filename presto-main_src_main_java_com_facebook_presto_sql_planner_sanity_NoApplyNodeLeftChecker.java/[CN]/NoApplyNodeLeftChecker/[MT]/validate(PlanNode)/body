{
  plan.accept(new SimplePlanVisitor(){
    @Override public Object visitApply(    ApplyNode node,    Object context){
      if (node.getCorrelation().isEmpty()) {
        throw new IllegalArgumentException("Not supported subquery");
      }
 else {
        throw new IllegalArgumentException("Correlated subquery is not yet supported");
      }
    }
  }
,null);
}

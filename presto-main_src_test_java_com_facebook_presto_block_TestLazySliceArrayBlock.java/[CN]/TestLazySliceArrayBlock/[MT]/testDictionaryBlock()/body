{
  Slice[] expectedValues=createExpectedValues(3);
  int[] ids=new int[]{0,2,1,0,0,0,1,1,1,0,1,2};
  boolean[] isNull=new boolean[ids.length];
  TestDictionaryLazySliceArrayBlockLoader loader=new TestDictionaryLazySliceArrayBlockLoader(expectedValues,ids,isNull);
  LazySliceArrayBlock block=new LazySliceArrayBlock(ids.length,loader);
  block.assureLoaded();
  assertTrue(block.isDictionary());
  assertEquals(block.getValues(),expectedValues);
  assertEquals(block.getIds(),ids);
  int expectedSizeInBytes=getSliceArraySizeInBytes(expectedValues) + (ids.length * SIZE_OF_INT) + (isNull.length * SIZE_OF_BYTE);
  assertEquals(block.getSizeInBytes(),expectedSizeInBytes);
}

{
  dbi.inTransaction(new VoidTransactionCallback(){
    @Override protected void execute(    Handle handle,    TransactionStatus status){
      ShardManagerDao dao=handle.attach(ShardManagerDao.class);
      dao.deleteShardFromPartitionShards(shardId);
      dao.dropShardNode(shardId,null);
      dao.deleteShard(shardId);
    }
  }
);
}

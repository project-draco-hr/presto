{
  int hashPosition=((int)Murmur3.hash64(hashRow(position,blocks))) & mask;
  int groupId=-1;
  while (key[hashPosition] != -1) {
    long address=key[hashPosition];
    if (positionEqualsCurrentRow(decodeSliceIndex(address),decodePosition(address),position,blocks)) {
      groupId=value[hashPosition];
      break;
    }
    hashPosition=(hashPosition + 1) & mask;
  }
  if (groupId < 0) {
    groupId=addNewGroup(hashPosition,position,blocks);
  }
  return groupId;
}

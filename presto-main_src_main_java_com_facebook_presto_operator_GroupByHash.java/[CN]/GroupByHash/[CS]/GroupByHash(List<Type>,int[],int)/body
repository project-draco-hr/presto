{
  this.types=checkNotNull(types,"types is null");
  this.channels=checkNotNull(channels,"channels is null").clone();
  checkArgument(types.size() == channels.length,"types and channels have different sizes");
  this.allPages=ObjectArrayList.wrap(new GroupByPageBuilder[1024],0);
  this.activePage=new GroupByPageBuilder(types);
  this.allPages.add(activePage);
  this.hashStrategy=new PageBuilderHashStrategy();
  this.pagePositionToGroupId=new PagePositionToGroupId(expectedSize,hashStrategy);
  this.pagePositionToGroupId.defaultReturnValue(-1);
}

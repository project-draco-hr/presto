{
  ByteArrayOutputStream uncompressedStream=new ByteArrayOutputStream();
  byte[] buffer=new byte[uncompressedSize];
  try (InputStream gzipInputStream=new GZIPInputStream(new ByteArrayInputStream(input.getBytes()))){
    int bytesRead;
    while ((bytesRead=gzipInputStream.read(buffer)) != -1) {
      uncompressedStream.write(buffer,0,bytesRead);
    }
    return wrappedBuffer(uncompressedStream.toByteArray());
  }
 }

{
  int[] selected=new int[page.getPositionCount()];
  int index=0;
  for (int position=0; position < page.getPositionCount(); position++) {
    if (filterFunction.filter(position,page.getBlocks())) {
      selected[index]=position;
      index++;
    }
  }
  return copyOf(selected,index);
}

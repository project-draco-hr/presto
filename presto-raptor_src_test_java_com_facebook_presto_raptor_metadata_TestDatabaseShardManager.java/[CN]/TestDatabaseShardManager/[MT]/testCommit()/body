{
  long tableId=1;
  List<ShardNode> shards=ImmutableList.<ShardNode>builder().add(new ShardNode(UUID.randomUUID(),"node1")).add(new ShardNode(UUID.randomUUID(),"node1")).add(new ShardNode(UUID.randomUUID(),"node2")).build();
  shardManager.commitTable(tableId,shards,Optional.<String>absent());
  Set<ShardNode> actual=ImmutableSet.copyOf(shardManager.getShardNodes(tableId));
  for (  ShardNode shard : shards) {
    assertTrue(actual.contains(shard));
  }
}

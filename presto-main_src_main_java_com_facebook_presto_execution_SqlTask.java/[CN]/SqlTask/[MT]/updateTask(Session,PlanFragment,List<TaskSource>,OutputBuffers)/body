{
  try {
    SqlTaskExecution taskExecution;
synchronized (this) {
      TaskHolder taskHolder=taskHolderReference.get();
      if (taskHolder.isFinished()) {
        return taskHolder.getFinalTaskInfo();
      }
      taskExecution=taskHolder.getTaskExecution();
      if (taskExecution == null) {
        taskExecution=sqlTaskExecutionFactory.create(session,taskStateMachine,sharedBuffer,fragment,sources);
        taskHolderReference.compareAndSet(taskHolder,new TaskHolder(taskExecution));
      }
    }
    if (taskExecution != null) {
      sharedBuffer.setOutputBuffers(outputBuffers);
      taskExecution.addSources(sources);
    }
  }
 catch (  Error e) {
    failed(e);
    throw e;
  }
catch (  RuntimeException e) {
    failed(e);
  }
  return getTaskInfo();
}

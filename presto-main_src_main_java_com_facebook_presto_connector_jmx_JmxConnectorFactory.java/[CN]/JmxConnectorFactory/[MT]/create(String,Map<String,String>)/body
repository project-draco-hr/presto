{
  JmxConnectorId jmxConnectorId=new JmxConnectorId(connectorId);
  ImmutableClassToInstanceMap.Builder<Object> builder=ImmutableClassToInstanceMap.builder();
  builder.put(ConnectorMetadata.class,new JmxMetadata(jmxConnectorId,mbeanServer));
  builder.put(ConnectorSplitManager.class,new JmxSplitManager(jmxConnectorId,nodeManager));
  builder.put(ConnectorDataStreamProvider.class,new JmxDataStreamProvider(jmxConnectorId,mbeanServer,nodeInfo));
  builder.put(ConnectorHandleResolver.class,HANDLE_RESOLVER);
  return new StaticConnector(builder.build());
}

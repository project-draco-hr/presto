{
  int initialHashPartitions;
  if (isBigQueryEnabled(session,false)) {
    if (this.bigQueryInitialHashPartitions == null) {
      initialHashPartitions=nodeManager.getActiveNodes().size();
    }
 else {
      initialHashPartitions=this.bigQueryInitialHashPartitions;
    }
  }
 else {
    initialHashPartitions=this.initialHashPartitions;
  }
  SqlQueryExecution queryExecution=new SqlQueryExecution(queryId,query,session,locationFactory.createQueryLocation(queryId),statement,metadata,sqlParser,splitManager,nodeScheduler,planOptimizers,remoteTaskFactory,locationFactory,scheduleSplitBatchSize,maxPendingSplitsPerNode,initialHashPartitions,experimentalSyntaxEnabled,executor,nodeTaskMap);
  return queryExecution;
}

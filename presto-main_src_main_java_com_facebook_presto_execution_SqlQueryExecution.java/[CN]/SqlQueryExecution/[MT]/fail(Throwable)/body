{
  requireNonNull(cause,"cause is null");
  try (SetThreadName ignored=new SetThreadName("Query-%s",stateMachine.getQueryId())){
    stateMachine.transitionToFailed(cause);
    SqlStageExecution stageExecution=outputStage.get();
    if (stageExecution != null) {
      stageExecution.abort();
    }
  }
 }

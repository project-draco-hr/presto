{
  assertEquals(doJsonExtract("{}","$"),"{}");
  assertEquals(doJsonExtract("{\"fuu\": {\"bar\": 1}}","$.fuu"),"{\"bar\":1}");
  assertEquals(doJsonExtract("{\"fuu\": 1}","$.fuu"),"1");
  assertEquals(doJsonExtract("{\"fuu\": null}","$.fuu"),"null");
  assertEquals(doJsonExtract("{\"fuu\": 1}","$.bar"),null);
  assertEquals(doJsonExtract("{\"fuu\": [\"\\u0001\"]}","$.fuu[0]"),"\"\\u0001\"");
  assertEquals(doJsonExtract("{\"fuu\": 1, \"bar\": \"abc\"}","$.bar"),"\"abc\"");
  assertEquals(doJsonExtract("{\"fuu\": [0.1, 1, 2]}","$.fuu[0]"),"0.1");
  assertEquals(doJsonExtract("{\"fuu\": [0, [100, 101], 2]}","$.fuu[1]"),"[100,101]");
  assertEquals(doJsonExtract("{\"fuu\": [0, [100, 101], 2]}","$.fuu[1][1]"),"101");
  assertEquals(doJsonExtract("[0, 1, 2]","$[0]"),"0");
  assertEquals(doJsonExtract("\"abc\"","$"),"\"abc\"");
  assertEquals(doJsonExtract("123","$"),"123");
  assertEquals(doJsonExtract("null","$"),"null");
  assertEquals(doJsonExtract("{\"fuu\": {\"bar\": 1}}","$[\"fuu\"]"),"{\"bar\":1}");
  assertEquals(doJsonExtract("{\"fuu\": {\"bar\": 1}}","$[\"fuu\"][\"bar\"]"),"1");
  assertEquals(doJsonExtract("{\"fuu\": 1}","$[\"fuu\"]"),"1");
  assertEquals(doJsonExtract("{\"fuu\": null}","$[\"fuu\"]"),"null");
  assertEquals(doJsonExtract("{\"fuu\": 1}","$[\"bar\"]"),null);
  assertEquals(doJsonExtract("{\"fuu\": [\"\\u0001\"]}","$[\"fuu\"][0]"),"\"\\u0001\"");
  assertEquals(doJsonExtract("{\"fuu\": 1, \"bar\": \"abc\"}","$[\"bar\"]"),"\"abc\"");
  assertEquals(doJsonExtract("{\"fuu\": [0.1, 1, 2]}","$[\"fuu\"][0]"),"0.1");
  assertEquals(doJsonExtract("{\"fuu\": [0, [100, 101], 2]}","$[\"fuu\"][1]"),"[100,101]");
  assertEquals(doJsonExtract("{\"fuu\": [0, [100, 101], 2]}","$[\"fuu\"][1][1]"),"101");
  assertEquals(doJsonExtract("{\"@$fuu\": {\".b.ar\": 1}}","$[\"@$fuu\"]"),"{\".b.ar\":1}");
  assertEquals(doJsonExtract("{\"fuu..\": 1}","$[\"fuu..\"]"),"1");
  assertEquals(doJsonExtract("{\"fu*u\": null}","$[\"fu*u\"]"),"null");
  assertEquals(doJsonExtract("{\",fuu\": 1}","$[\"bar\"]"),null);
  assertEquals(doJsonExtract("{\",fuu\": [\"\\u0001\"]}","$[\",fuu\"][0]"),"\"\\u0001\"");
  assertEquals(doJsonExtract("{\":fu:u:\": 1, \":b:ar:\": \"abc\"}","$[\":b:ar:\"]"),"\"abc\"");
  assertEquals(doJsonExtract("{\"?()fuu\": [0.1, 1, 2]}","$[\"?()fuu\"][0]"),"0.1");
  assertEquals(doJsonExtract("{\"f?uu\": [0, [100, 101], 2]}","$[\"f?uu\"][1]"),"[100,101]");
  assertEquals(doJsonExtract("{\"fuu()\": [0, [100, 101], 2]}","$[\"fuu()\"][1][1]"),"101");
  assertEquals(doJsonExtract("{\"fuu\": {\"bar\": 1}}","$[\"fuu\"].bar"),"1");
  assertEquals(doJsonExtract("{\"fuu\": {\"bar\": 1}}","$.fuu[\"bar\"]"),"1");
  assertEquals(doJsonExtract("{\"fuu\": [\"\\u0001\"]}","$[\"fuu\"][0]"),"\"\\u0001\"");
  assertEquals(doJsonExtract("{\"fuu\": [\"\\u0001\"]}","$.fuu[0]"),"\"\\u0001\"");
  assertEquals(doJsonExtract("{\"@$fuu\": {\"bar\": 1}}","$[\"@$fuu\"].bar"),"1");
  assertEquals(doJsonExtract("{\",fuu\": {\"bar\": [\"\\u0001\"]}}","$[\",fuu\"].bar[0]"),"\"\\u0001\"");
}

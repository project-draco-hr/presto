{
  ImmutableList.Builder<Type> parameterTypes=ImmutableList.builder();
  for (  TypeSignature parameter : signature.getParameters()) {
    parameterTypes.add(getType(parameter));
  }
  ParametricType parametricType=parametricTypes.get(signature.getBase().toLowerCase(Locale.ENGLISH));
  if (parametricType == null) {
    return null;
  }
  Type instantiatedType=parametricType.createType(parameterTypes.build(),signature.getLiteralParameters());
  checkState(instantiatedType.getTypeSignature().equals(signature),"Instantiated parametric type name (%s) does not match expected name (%s)",instantiatedType,signature);
  return instantiatedType;
}

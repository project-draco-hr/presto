{
  QueuedTask<T> queuedTask=new QueuedTask<>(task);
  queuedTasks.add(queuedTask);
  acquirePermit();
  return queuedTask.getCompletionFuture();
}

{
  hashStrategy=new SliceHashStrategy(joinChannelIndex.getTupleInfo(),joinChannelIndex.getSlices().elements());
  joinChannelHash=new Long2IntOpenCustomHashMap(joinChannelIndex.getPositionCount(),hashStrategy);
  joinChannelHash.defaultReturnValue(-1);
  positionLinks=new IntArrayList(new int[joinChannelIndex.getOffsets().size()]);
  Arrays.fill(positionLinks.elements(),-1);
  for (int position=0; position < joinChannelIndex.getOffsets().size(); position++) {
    long sliceAddress=joinChannelIndex.getOffsets().elements()[position];
    int oldPosition=joinChannelHash.put(sliceAddress,position);
    if (oldPosition >= 0) {
      positionLinks.set(position,oldPosition);
    }
  }
}

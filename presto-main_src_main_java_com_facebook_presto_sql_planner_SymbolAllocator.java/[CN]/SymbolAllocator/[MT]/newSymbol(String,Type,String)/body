{
  Preconditions.checkNotNull(nameHint,"name is null");
  nameHint=nameHint.toLowerCase();
  if (nameHint.contains("_")) {
    nameHint=nameHint.substring(0,nameHint.indexOf("_"));
  }
  String unique=nameHint;
  if (suffix != null) {
    unique=unique + "$" + suffix;
  }
  int id=1;
  while (symbols.containsKey(new Symbol(unique))) {
    unique=nameHint + "_" + id;
    id++;
  }
  Symbol symbol=new Symbol(unique);
  symbols.put(symbol,type);
  return symbol;
}

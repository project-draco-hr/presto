{
  for (int i=0; i < blockCursors.length; i++) {
    blockCursors[i]=cursors[inputs.get(i).getChannel()];
  }
  if (step == Step.FINAL) {
    intermediateValue=function.addIntermediate(blockCursors,fields,intermediateValue);
  }
 else {
    intermediateValue=function.addInput(blockCursors,fields,intermediateValue);
  }
}

{
  try {
    Session viewSession=new Session(session.getUser(),session.getSource(),catalog,schema,session.getTimeZoneKey(),session.getLocale(),session.getRemoteUserAddress(),session.getUserAgent(),session.getStartTime());
    StatementAnalyzer analyzer=new StatementAnalyzer(analysis,metadata,sqlParser,viewSession,experimentalSyntaxEnabled,Optional.<QueryExplainer>absent());
    return analyzer.process(query,new AnalysisContext());
  }
 catch (  RuntimeException e) {
    throw new SemanticException(VIEW_ANALYSIS_ERROR,node,"Failed analyzing stored view '%s': %s",name,e.getMessage());
  }
}

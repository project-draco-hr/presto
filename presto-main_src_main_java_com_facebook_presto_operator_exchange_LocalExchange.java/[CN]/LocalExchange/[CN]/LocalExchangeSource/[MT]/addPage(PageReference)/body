{
  checkNotHoldsLock(this);
  boolean added=false;
synchronized (this) {
    if (!finishing) {
      buffer.add(pageReference);
      added=true;
      bufferedBytes.addAndGet(pageReference.getSizeInBytes());
    }
  }
  if (!added) {
    pageReference.removePage();
  }
  readWaiter.notifyWaiters();
}

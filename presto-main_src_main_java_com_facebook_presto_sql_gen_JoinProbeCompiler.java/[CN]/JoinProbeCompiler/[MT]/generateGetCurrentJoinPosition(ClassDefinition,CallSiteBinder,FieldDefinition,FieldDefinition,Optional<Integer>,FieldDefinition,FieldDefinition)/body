{
  CompilerContext context=new CompilerContext();
  Block body=classDefinition.declareMethod(context,a(PUBLIC),"getCurrentJoinPosition",type(long.class)).getBody().append(new IfStatement(context,context.getVariable("this").invoke("currentRowContainsNull",boolean.class),constantLong(-1).ret(),null));
  ByteCodeExpression position=context.getVariable("this").getField(positionField);
  ByteCodeExpression page=context.getVariable("this").getField(probePageField);
  ByteCodeExpression probeHashBlock=context.getVariable("this").getField(probeHashBlockField);
  if (probeHashChannel.isPresent()) {
    body.append(context.getVariable("this").getField(lookupSourceField).invoke("getJoinPosition",long.class,position,page,constantType(context,callSiteBinder,BigintType.BIGINT).invoke("getLong",long.class,probeHashBlock,position).cast(int.class))).retLong();
  }
 else {
    body.append(context.getVariable("this").getField(lookupSourceField).invoke("getJoinPosition",long.class,position,page)).retLong();
  }
}

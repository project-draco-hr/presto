{
  MethodDefinition constructorDefinition=classDefinition.declareConstructor(a(PUBLIC),arg("lookupSource",LookupSource.class),arg("page",Page.class));
  CompilerContext context=constructorDefinition.getCompilerContext();
  Variable thisVariable=context.getThis();
  Block constructor=constructorDefinition.getBody().comment("super();").append(thisVariable).invokeConstructor(Object.class);
  constructor.comment("this.lookupSource = lookupSource;").append(thisVariable.setField(lookupSourceField,context.getVariable("lookupSource")));
  constructor.comment("this.positionCount = page.getPositionCount();").append(thisVariable.setField(positionCountField,context.getVariable("page").invoke("getPositionCount",int.class)));
  constructor.comment("Set block fields");
  for (int index=0; index < blockFields.size(); index++) {
    constructor.append(thisVariable.setField(blockFields.get(index),context.getVariable("page").invoke("getBlock",com.facebook.presto.spi.block.Block.class,constantInt(index))));
  }
  constructor.comment("Set probe channel fields");
  for (int index=0; index < probeChannelFields.size(); index++) {
    constructor.append(thisVariable.setField(probeChannelFields.get(index),thisVariable.getField(blockFields.get(probeChannels.get(index)))));
  }
  constructor.comment("this.probeBlocks = new Block[<probeChannelCount>];");
  constructor.append(thisVariable).push(probeChannelFields.size()).newArray(com.facebook.presto.spi.block.Block.class).putField(probeBlocksArrayField);
  for (int index=0; index < probeChannelFields.size(); index++) {
    constructor.append(thisVariable).getField(probeBlocksArrayField).push(index).append(thisVariable).getField(probeChannelFields.get(index)).putObjectArrayElement();
  }
  ByteCodeExpression page=newInstance(Page.class,thisVariable.getField(probeBlocksArrayField));
  constructor.comment("this.probePage = new Page(probeBlocks)").append(thisVariable.setField(probePageField,page));
  if (probeHashChannel.isPresent()) {
    Integer index=probeHashChannel.get();
    constructor.comment("this.probeHashBlock = blocks[hashChannel.get()]").append(thisVariable.setField(probeHashBlockField,thisVariable.getField(blockFields.get(index))));
  }
  constructor.comment("this.position = -1;").append(thisVariable.setField(positionField,constantInt(-1)));
  constructor.ret();
}

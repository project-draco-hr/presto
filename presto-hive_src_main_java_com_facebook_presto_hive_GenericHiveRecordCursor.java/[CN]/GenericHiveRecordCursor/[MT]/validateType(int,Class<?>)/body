{
  if (!types[fieldId].getJavaType().equals(type)) {
    throw new IllegalArgumentException(String.format("Expected field to be %s, actual %s (field %s)",type,types[fieldId],fieldId));
  }
}

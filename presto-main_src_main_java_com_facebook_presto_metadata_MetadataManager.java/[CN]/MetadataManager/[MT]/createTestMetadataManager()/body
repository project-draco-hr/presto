{
  FeaturesConfig featuresConfig=new FeaturesConfig();
  TypeManager typeManager=new TypeRegistry();
  SessionPropertyManager sessionPropertyManager=new SessionPropertyManager();
  SplitManager splitManager=new SplitManager();
  BlockEncodingSerde blockEncodingSerde=new BlockEncodingManager(typeManager);
  TransactionManager transactionManager=createTestTransactionManager();
  return new MetadataManager(featuresConfig,typeManager,splitManager,blockEncodingSerde,sessionPropertyManager,new TablePropertyManager(),transactionManager);
}

{
  checkTable(table);
  for (  InternalSchemaMetadata internalSchemaMetadata : internalSchemas) {
    Optional<TableHandle> tableHandle=internalSchemaMetadata.getTableHandle(table);
    if (tableHandle.isPresent()) {
      return tableHandle;
    }
  }
  ConnectorMetadata connectorMetadata=connectors.get(table.getCatalogName());
  if (connectorMetadata == null) {
    return Optional.absent();
  }
  return Optional.fromNullable(connectorMetadata.getTableHandle(table.asSchemaTableName()));
}

{
switch (part.toLowerCase()) {
case "host":
    return uri.getHost();
case "path":
  return uri.getPath();
case "query":
return uri.getQuery();
case "ref":
case "fragment":
return uri.getFragment();
case "protocol":
return uri.getScheme();
case "authority":
return uri.getAuthority();
case "file":
if (uri.getQuery() == null) {
return uri.getPath();
}
return nullToEmpty(uri.getPath()) + "?" + uri.getQuery();
case "userinfo":
return uri.getUserInfo();
default :
throw new IllegalArgumentException("Invalid URL part: " + part);
}
}

{
  String viewData="test data";
  metadata.createView(newSession(),viewName,viewData,replace);
  Map<SchemaTableName,ConnectorViewDefinition> views=metadata.getViews(newSession(),viewName.toSchemaTablePrefix());
  assertEquals(views.size(),1);
  assertEquals(views.get(viewName).getViewData(),viewData);
  assertTrue(metadata.listViews(newSession(),viewName.getSchemaName()).contains(viewName));
}

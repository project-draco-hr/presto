{
  TokenSource tokens=getLexer(sql,ImmutableSet.<String>of());
  StringBuilder sb=new StringBuilder();
  int index=0;
  while (true) {
    Token token;
    try {
      token=tokens.nextToken();
      index=((CommonToken)token).getStopIndex() + 1;
    }
 catch (    ParsingException e) {
      sb.append(sql.substring(index));
      break;
    }
    if (token.getType() == Token.EOF) {
      break;
    }
    if (token.getType() == StatementLexer.WS) {
      sb.append(' ');
    }
 else {
      sb.append(getTokenText(token));
    }
  }
  return sb.toString().trim();
}

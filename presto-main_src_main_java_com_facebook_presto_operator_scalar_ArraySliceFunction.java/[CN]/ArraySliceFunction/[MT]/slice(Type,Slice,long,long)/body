{
  checkCondition(length >= 0,INVALID_FUNCTION_ARGUMENT,"Invalid array length");
  checkCondition(fromIndex != 0,INVALID_FUNCTION_ARGUMENT,"Invalid start index");
  Block elementsBlock=readStructuralBlock(array);
  int size=elementsBlock.getPositionCount();
  if (size == 0) {
    return array;
  }
  if (fromIndex < 0) {
    fromIndex=size + fromIndex + 1;
  }
  long toIndex=Math.min(fromIndex + length,size + 1);
  if (fromIndex >= toIndex || fromIndex < 0 || toIndex < 0) {
    return buildStructuralSlice(type.createBlockBuilder(new BlockBuilderStatus(),0).build());
  }
  return buildStructuralSlice(elementsBlock.getRegion((int)(fromIndex - 1),(int)(toIndex - fromIndex)));
}

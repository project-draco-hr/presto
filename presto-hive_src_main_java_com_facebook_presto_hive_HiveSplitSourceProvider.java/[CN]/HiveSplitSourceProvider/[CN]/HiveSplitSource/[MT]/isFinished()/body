{
  boolean isFinished=queue.peek() == FINISHED_MARKER;
  if (throwable.get() != null) {
    throw Throwables.propagate(throwable.get());
  }
  return isFinished;
}

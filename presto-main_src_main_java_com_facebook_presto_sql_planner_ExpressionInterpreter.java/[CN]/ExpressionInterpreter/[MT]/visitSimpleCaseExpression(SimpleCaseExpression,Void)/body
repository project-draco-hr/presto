{
  Object operand=process(node.getOperand(),context);
  if (operand == null) {
    return null;
  }
  if (operand instanceof Expression) {
    return node;
  }
  Expression resultClause=node.getDefaultValue();
  for (  WhenClause whenClause : node.getWhenClauses()) {
    Object value=process(whenClause.getOperand(),context);
    if (value instanceof Expression) {
      return node;
    }
    if (operand instanceof Long && value instanceof Long) {
      if (((Long)operand).doubleValue() == ((Long)value).doubleValue()) {
        resultClause=whenClause.getResult();
        break;
      }
    }
 else     if (operand instanceof Number && value instanceof Number) {
      if (((Number)operand).doubleValue() == ((Number)value).doubleValue()) {
        resultClause=whenClause.getResult();
        break;
      }
    }
 else     if (operand.equals(value)) {
      resultClause=whenClause.getResult();
      break;
    }
  }
  if (resultClause == null) {
    return null;
  }
  Object result=process(resultClause,context);
  if (result instanceof Expression) {
    return node;
  }
  return result;
}

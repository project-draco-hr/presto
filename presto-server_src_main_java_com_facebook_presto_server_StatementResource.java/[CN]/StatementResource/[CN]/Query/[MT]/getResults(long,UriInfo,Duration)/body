{
  String requestedPath=uriInfo.getAbsolutePath().getPath();
  if (lastResult.getSelf() != null && requestedPath.equals(lastResult.getSelf().getPath())) {
    return lastResult;
  }
  if (token < resultId.get()) {
    throw new WebApplicationException(Status.GONE);
  }
  if (lastResult.getNext() == null || !requestedPath.equals(lastResult.getNext().getPath())) {
    throw new WebApplicationException(Status.NOT_FOUND);
  }
  return getNextResults(uriInfo,maxWaitTime);
}

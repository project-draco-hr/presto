{
  QueryData data=getData(maxWaitTime);
  QueryInfo queryInfo=queryManager.getQueryInfo(queryId,false);
  URI nextResultsUri=null;
  if (!queryInfo.getState().isDone()) {
    nextResultsUri=createNextResultsUri(uriInfo);
  }
  URI self=null;
  if (lastResult != null) {
    self=lastResult.getNext();
  }
  QueryResults queryResults=new QueryResults(self,nextResultsUri,data,queryInfo);
  lastResult=queryResults;
  return queryResults;
}

{
  Set<UUID> shardUuids=compactionSet.getShards();
  try {
    compactShards(compactionSet.getTableId(),compactionSet.getBucketNumber(),shardUuids);
  }
 catch (  IOException e) {
    throw Throwables.propagate(e);
  }
 finally {
    shardsInProgress.removeAll(shardUuids);
  }
}

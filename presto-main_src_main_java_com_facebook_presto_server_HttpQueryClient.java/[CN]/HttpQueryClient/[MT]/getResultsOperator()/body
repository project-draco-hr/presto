{
  QueryInfo queryInfo=getQueryInfo(false);
  if (queryInfo == null || queryInfo.getOutputStage() == null) {
    return new Operator(){
      @Override public int getChannelCount(){
        return 0;
      }
      @Override public List<TupleInfo> getTupleInfos(){
        return ImmutableList.of();
      }
      @Override public PageIterator iterator(      OperatorStats operatorStats){
        return PageIterators.emptyIterator(ImmutableList.<TupleInfo>of());
      }
    }
;
  }
  StageInfo outputStage=queryInfo.getOutputStage();
  return new QueryDriversOperator(10,outputStage.getTupleInfos(),Iterables.transform(outputStage.getTasks(),new Function<TaskInfo,QueryDriverProvider>(){
    @Override public QueryDriverProvider apply(    TaskInfo taskInfo){
      Preconditions.checkState(taskInfo.getOutputBuffers().size() == 1,"Expected a single output buffer for task %s, but found %s",taskInfo.getTaskId(),taskInfo.getOutputBuffers());
      return new HttpTaskClient(taskInfo.getTaskId(),taskInfo.getSelf(),Iterables.getOnlyElement(taskInfo.getOutputBuffers()).getBufferId(),httpClient,taskInfoCodec);
    }
  }
));
}

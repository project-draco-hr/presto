{
  if (positionBlock.isEmpty()) {
    return EmptyPositionBlock.INSTANCE;
  }
  ImmutableList.Builder<Long> builder=ImmutableList.builder();
  for (  Long position : positions) {
    if (positionBlock.apply(position)) {
      builder.add(position);
    }
  }
  ImmutableList<Long> newPositions=builder.build();
  if (newPositions.isEmpty()) {
    return EmptyPositionBlock.INSTANCE;
  }
  return new UncompressedPositionBlock(newPositions);
}

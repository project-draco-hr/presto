{
synchronized (this) {
    if (endTime == null) {
      endTime=DateTime.now();
    }
  }
  return queryState.setIf(FINISHED,Predicates.not(inDoneState()));
}

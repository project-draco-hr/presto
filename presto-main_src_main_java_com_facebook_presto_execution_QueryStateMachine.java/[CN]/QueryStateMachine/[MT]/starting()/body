{
  boolean changed=queryState.setIf(QueryState.STARTING,Predicates.in(ImmutableSet.of(QueryState.QUEUED,QueryState.PLANNING)));
  if (changed) {
    totalPlanningTime=Duration.nanosSince(createNanos);
  }
  return changed;
}

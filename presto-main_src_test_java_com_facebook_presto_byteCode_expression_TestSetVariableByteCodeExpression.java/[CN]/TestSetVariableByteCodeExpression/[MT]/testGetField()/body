{
  CompilerContext context=new CompilerContext();
  Variable point=context.declareVariable(Point.class,"point");
  ByteCodeExpression setPoint=point.set(newInstance(Point.class,constantInt(3),constantInt(7)));
  assertEquals(setPoint.toString(),"point = new Point(3, 7);");
  Block block=new Block(context).append(setPoint).append(point.ret());
  assertByteCodeNode(block,type(Point.class),new Point(3,7));
}

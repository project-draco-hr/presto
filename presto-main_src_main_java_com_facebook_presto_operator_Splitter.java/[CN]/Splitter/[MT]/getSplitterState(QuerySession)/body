{
  Preconditions.checkNotNull(session,"session is null");
  SplitterState<T> splitterState=(SplitterState<T>)session.getData(SplitterState.class);
  if (splitterState == null) {
    splitterState=new SplitterState<>(tupleInfo,splitCount,maxBufferSize,source);
    session.putData(SplitterState.class,splitterState);
  }
  return splitterState;
}

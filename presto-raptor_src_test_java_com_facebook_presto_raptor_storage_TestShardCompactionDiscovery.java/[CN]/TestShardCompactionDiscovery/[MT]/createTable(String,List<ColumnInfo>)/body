{
  MetadataDao metadataDao=dbi.onDemand(MetadataDao.class);
  dbi.registerMapper(new TableColumn.Mapper(new TypeRegistry()));
  long tableId=metadataDao.insertTable("test",name,true,null);
  for (int i=0; i < columns.size(); i++) {
    ColumnInfo columnInfo=columns.get(i);
    metadataDao.insertColumn(tableId,columnInfo.getColumnId(),Long.toString(columnInfo.getColumnId()),i + 1,columnInfo.getType().toString(),i,null);
  }
  return tableId;
}

{
  String state;
  if (closed) {
    state="closed";
  }
 else   if (future != null) {
    state="running";
  }
 else   if (scheduled) {
    state="scheduled";
  }
 else   if (completed) {
    state="completed";
  }
 else {
    state="queued";
  }
  String httpRequestState="not scheduled";
  if (future != null) {
    httpRequestState=future.getState();
  }
  return new PageBufferClientStatus(location,state,lastUpdate,rowsReceived.get(),pagesReceived.get(),requestsScheduled.get(),requestsCompleted.get(),requestsFailed.get(),httpRequestState);
}

{
  IdentityHashMap<Expression,Type> firstTypes=new IdentityHashMap<>();
  ComparisonExpression firstExpression=comparison(firstTypes,EQUAL,longLiteral(firstTypes,"42"),add(firstTypes,longLiteral(firstTypes,"40"),longLiteral(firstTypes,"2")));
  IdentityHashMap<Expression,Type> secondTypes=new IdentityHashMap<>();
  ComparisonExpression secondExpression=comparison(secondTypes,EQUAL,longLiteral(secondTypes,"42"),add(secondTypes,longLiteral(secondTypes,"40"),longLiteral(secondTypes,"2")));
  assertEquals(firstExpression,secondExpression);
  assertNotEquals(firstTypes,secondTypes);
  assertEquals(new ExpressionKey(firstExpression,firstTypes),new ExpressionKey(secondExpression,secondTypes));
}

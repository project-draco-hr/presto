{
  IdentityHashMap<Expression,Type> firstTypes=new IdentityHashMap<>();
  ComparisonExpression firstExpression=comparison(firstTypes,EQUAL,input(firstTypes,1,BIGINT),add(firstTypes,input(firstTypes,2,BIGINT),input(firstTypes,3,BIGINT)));
  IdentityHashMap<Expression,Type> secondTypes=new IdentityHashMap<>();
  ComparisonExpression secondExpression=comparison(secondTypes,EQUAL,input(secondTypes,1,DOUBLE),add(secondTypes,input(secondTypes,2,DOUBLE),input(secondTypes,3,DOUBLE)));
  assertEquals(firstExpression,secondExpression);
  assertNotEquals(firstTypes,secondTypes);
  assertNotEquals(new ExpressionKey(firstExpression,firstTypes),new ExpressionKey(secondExpression,secondTypes));
}

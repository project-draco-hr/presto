{
  assertQuery("" + "SELECT x " + "FROM ("+ "   SELECT a.x"+ "   FROM (VALUES 1, 2, 3) a(x)"+ ") "+ "GROUP BY x","SELECT * FROM VALUES 1, 2, 3");
  assertQuery("" + "SELECT custkey, orders2 " + "FROM ("+ "   SELECT x.custkey, SUM(x.orders) + 1 orders2 "+ "   FROM ( "+ "      SELECT x.custkey, COUNT(x.orderkey) orders "+ "      FROM ORDERS x "+ "      WHERE x.custkey < 100 "+ "      GROUP BY x.custkey "+ "   ) x "+ "   GROUP BY x.custkey"+ ") "+ "ORDER BY custkey");
}

{
  BytesWritable value=new BytesWritable();
  byte[] first="hello world".getBytes(UTF_8);
  value.set(first,0,first.length);
  byte[] second="bye".getBytes(UTF_8);
  value.set(second,0,second.length);
  ObjectInspector inspector=ObjectInspectorFactory.getReflectionObjectInspector(new TypeToken<Map<BytesWritable,Integer>>(){
  }
.getType(),ObjectInspectorFactory.ObjectInspectorOptions.JAVA);
  byte[] bytes=SerDeUtils.getJsonBytes(ImmutableMap.of(value,0),inspector);
  String encoded=Base64Variants.getDefaultVariant().encode(second);
  assertEquals(new String(bytes,UTF_8),"{\"" + encoded + "\":0}");
}

{
  if (annotation instanceof TypeParameter) {
    return new TypeImplementationDependency(((TypeParameter)annotation).value());
  }
  if (annotation instanceof OperatorDependency) {
    OperatorDependency operator=(OperatorDependency)annotation;
    return new OperatorImplementationDependency(operator.operator(),operator.returnType(),Arrays.asList(operator.argumentTypes()));
  }
  throw new IllegalArgumentException("Unsupported annotation " + annotation.getClass().getSimpleName());
}

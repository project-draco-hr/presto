{
  ImmutableList.Builder<Method> methods=ImmutableList.builder();
  for (  Method method : clazz.getMethods()) {
    for (    Annotation annotation : method.getAnnotations()) {
      if (annotationClass.isInstance(annotation)) {
        checkArgument(Modifier.isPublic(method.getModifiers()),"%s annotated with %s must be public",method.getName(),annotationClass.getSimpleName());
        methods.add(method);
      }
    }
  }
  return methods.build();
}

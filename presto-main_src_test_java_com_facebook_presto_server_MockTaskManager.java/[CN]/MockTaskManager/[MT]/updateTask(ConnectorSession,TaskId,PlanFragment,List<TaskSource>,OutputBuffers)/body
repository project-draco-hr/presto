{
  checkNotNull(session,"session is null");
  checkNotNull(taskId,"taskId is null");
  checkNotNull(sources,"sources is null");
  checkNotNull(outputBuffers,"outputBuffers is null");
  MockTask task=tasks.get(taskId);
  if (task == null) {
    task=new MockTask(session,taskId,uriBuilderFrom(httpServerInfo.getHttpUri()).appendPath("v1/task").appendPath(taskId.toString()).build(),outputBuffers,maxBufferSize,initialPages,stateNotificationExecutor);
    tasks.put(taskId,task);
  }
  task.addOutputBuffers(outputBuffers);
  return task.getTaskInfo();
}

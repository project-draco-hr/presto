{
  if (node.getWith().isPresent()) {
    With with=node.getWith().get();
    append(indent,"WITH");
    if (with.isRecursive()) {
      builder.append(" RECURSIVE");
    }
    builder.append("\n  ");
    Iterator<WithQuery> queries=with.getQueries().iterator();
    while (queries.hasNext()) {
      WithQuery query=queries.next();
      append(indent,query.getName());
      appendAliasColumns(builder,query.getColumnNames());
      builder.append(" AS ");
      process(new TableSubquery(query.getQuery()),indent);
      builder.append('\n');
      if (queries.hasNext()) {
        builder.append(", ");
      }
    }
  }
  processRelation(node.getQueryBody(),indent);
  if (!node.getOrderBy().isEmpty()) {
    append(indent,"ORDER BY " + formatSortItems(node.getOrderBy())).append('\n');
  }
  if (node.getLimit().isPresent()) {
    append(indent,"LIMIT " + node.getLimit().get()).append('\n');
  }
  if (node.getApproximate().isPresent()) {
    String confidence=node.getApproximate().get().getConfidence();
    append(indent,"APPROXIMATE AT " + confidence + " CONFIDENCE").append('\n');
  }
  return null;
}

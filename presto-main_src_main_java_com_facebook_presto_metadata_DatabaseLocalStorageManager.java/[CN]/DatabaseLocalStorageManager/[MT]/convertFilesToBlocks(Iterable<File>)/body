{
  checkArgument(files.iterator().hasNext(),"no files in stream");
  Iterable<Block> blocks=Iterables.concat(Iterables.transform(files,new Function<File,Iterable<? extends Block>>(){
    @Override public Iterable<? extends Block> apply(    File file){
      Slice slice=mappedFileCache.getUnchecked(file.getAbsoluteFile());
      return BlocksFileReader.readBlocks(blockEncodingManager,slice);
    }
  }
));
  return BlockUtils.toBlocks(blocks);
}

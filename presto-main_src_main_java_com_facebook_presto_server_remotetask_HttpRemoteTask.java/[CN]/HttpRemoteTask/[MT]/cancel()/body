{
  try (SetThreadName ignored=new SetThreadName("HttpRemoteTask-%s",taskId)){
    TaskStatus taskStatus=getTaskStatus();
    if (taskStatus.getState().isDone()) {
      return;
    }
    checkState(taskStatusFetcher.isRunning(),"Cannot cancel task when it is not running");
    HttpUriBuilder uriBuilder=uriBuilderFrom(taskStatus.getSelf()).addParameter("abort","false");
    if (summarizeTaskInfo) {
      uriBuilder.addParameter("summarize");
    }
    Request request=prepareDelete().setUri(uriBuilder.build()).build();
    scheduleAsyncCleanupRequest(new Backoff(MAX_CLEANUP_RETRY_TIME),request,"cancel");
  }
 }

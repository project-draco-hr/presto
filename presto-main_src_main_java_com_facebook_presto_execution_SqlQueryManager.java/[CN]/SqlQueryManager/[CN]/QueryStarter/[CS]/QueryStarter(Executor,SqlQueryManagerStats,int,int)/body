{
  checkNotNull(queryExecutor,"queryExecutor is null");
  checkNotNull(stats,"stats is null");
  checkArgument(maxConcurrentQueries > 0,"must allow at least one running query");
  checkArgument(maxQueuedQueries > 0,"must allow at least one query in the queue");
  this.maxQueuedQueries=maxQueuedQueries;
  this.asyncSemaphore=new AsyncSemaphore<>(maxConcurrentQueries,queryExecutor,new QuerySubmitter(queryExecutor,stats));
}

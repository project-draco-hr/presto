{
  this.nullAllowed=nullAllowed;
  checkNotNull(ranges,"ranges is null");
  List<SimpleRange> rangesCopy=null;
  if (ranges.isPresent()) {
    rangesCopy=ImmutableList.copyOf(ranges.get());
  }
  this.ranges=Optional.ofNullable(rangesCopy);
}

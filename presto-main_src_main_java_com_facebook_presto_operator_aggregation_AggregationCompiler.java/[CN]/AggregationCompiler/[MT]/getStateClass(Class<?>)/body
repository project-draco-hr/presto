{
  Method inputFunction=CompilerUtils.findPublicStaticMethodWithAnnotation(clazz,InputFunction.class);
  checkNotNull(inputFunction,"Input function is null");
  checkArgument(inputFunction.getParameterTypes().length > 0,"Input function has no parameters");
  Class<?> stateClass=inputFunction.getParameterTypes()[0];
  checkArgument(AccumulatorState.class.isAssignableFrom(stateClass),"stateClass is not a subclass of AccumulatorState");
  return stateClass;
}

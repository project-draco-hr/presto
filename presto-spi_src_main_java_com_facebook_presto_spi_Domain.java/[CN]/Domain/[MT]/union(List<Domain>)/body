{
  if (domains.size() == 1) {
    return domains.get(0);
  }
  boolean nullAllowed=false;
  List<SortedRangeSet> ranges=new ArrayList<>();
  for (  Domain domain : domains) {
    ranges.add(domain.getRanges());
    nullAllowed=nullAllowed || domain.nullAllowed;
  }
  return new Domain(SortedRangeSet.union(ranges),nullAllowed);
}

{
  slice.fill((byte)0xFF);
  assertEquals(slice.slice(0,slice.length()),slice);
  Slice value=allocate(slice.length());
  slice.getBytes(0,value,0,slice.length());
  assertEquals(value,slice);
  value=allocate((slice.length() - index) / 2);
  for (int i=0; i < value.length(); i++) {
    value.setByte(i,i);
  }
  slice.setBytes(index,value);
  assertEquals(value,slice.slice(index,value.length()));
  Slice tempValue=allocate(value.length());
  slice.getBytes(index,tempValue,0,tempValue.length());
  assertEquals(tempValue,slice.slice(index,tempValue.length()));
  assertTrue(tempValue.equals(0,tempValue.length(),slice,index,tempValue.length()));
  for (int length=0; length < value.length(); length++) {
    slice.fill((byte)0xFF);
    slice.setBytes(index,value,0,length);
    assertEquals(value.slice(0,length),slice.slice(index,length));
    assertTrue(value.equals(0,length,slice,index,length));
    tempValue=allocate(length);
    slice.getBytes(index,tempValue);
    assertEquals(tempValue,slice.slice(index,length));
    assertTrue(tempValue.equals(0,length,slice,index,length));
  }
}

{
  slice.fill((byte)0xFF);
  char[] chars=new char[(slice.length() - index) / 2];
  for (int i=0; i < chars.length; i++) {
    chars[i]=(char)('a' + (i % 26));
  }
  String string=new String(chars);
  Slice value=Slices.copiedBuffer(string,UTF_8);
  slice.setBytes(index,value);
  assertEquals(slice.toString(index,value.length(),UTF_8),string);
  for (int length=0; length < value.length(); length++) {
    slice.fill((byte)0xFF);
    slice.setBytes(index,value,0,length);
    assertEquals(slice.toString(index,length,UTF_8),string.substring(0,length));
  }
}

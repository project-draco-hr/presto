{
  slice.fill((byte)0xFF);
  byte[] value=new byte[slice.length()];
  Arrays.fill(value,(byte)0xFF);
  assertEquals(slice.getBytes(),value);
  value=new byte[(slice.length() - index) / 2];
  for (int i=0; i < value.length; i++) {
    value[i]=(byte)i;
  }
  slice.setBytes(index,new ByteArrayInputStream(value),value.length);
  assertEquals(slice.getBytes(index,value.length),value);
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  slice.getBytes(index,out,value.length);
  assertEquals(slice.getBytes(index,value.length),out.toByteArray());
  for (int length=0; length < value.length; length++) {
    slice.fill((byte)0xFF);
    slice.setBytes(index,new ByteArrayInputStream(value),length);
    assertEquals(slice.getBytes(index,length),Arrays.copyOf(value,length));
    out=new ByteArrayOutputStream();
    slice.getBytes(index,out,length);
    assertEquals(slice.getBytes(index,length),out.toByteArray());
  }
}

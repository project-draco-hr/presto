{
  List<String> nameValue=Splitter.on('=').limit(2).splitToList(header);
  assertRequest(nameValue.size() == 2,"Invalid %s header",PRESTO_SESSION);
  String catalog;
  String name;
  List<String> nameParts=Splitter.on('.').splitToList(nameValue.get(0));
  if (nameParts.size() == 1) {
    catalog=null;
    name=nameParts.get(0);
  }
 else   if (nameParts.size() == 2) {
    catalog=nameParts.get(0);
    name=nameParts.get(1);
  }
 else {
    throw badRequest(format("Invalid %s header",PRESTO_SESSION));
  }
  assertRequest(catalog == null || !catalog.isEmpty(),"Invalid %s header",PRESTO_SESSION);
  assertRequest(!name.isEmpty(),"Invalid %s header",PRESTO_SESSION);
  String value=nameValue.get(1);
  sessionPropertiesByCatalog.put(catalog,Maps.immutableEntry(name,value));
}

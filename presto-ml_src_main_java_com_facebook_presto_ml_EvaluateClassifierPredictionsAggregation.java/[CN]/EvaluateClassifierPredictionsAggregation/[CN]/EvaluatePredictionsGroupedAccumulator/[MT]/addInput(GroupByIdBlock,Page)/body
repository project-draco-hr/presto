{
  truePositives.ensureCapacity(groupIdsBlock.getGroupCount());
  falsePositives.ensureCapacity(groupIdsBlock.getGroupCount());
  trueNegatives.ensureCapacity(groupIdsBlock.getGroupCount());
  falseNegatives.ensureCapacity(groupIdsBlock.getGroupCount());
  Block labelBlock=page.getBlock(labelChannel);
  Block predictionBlock=page.getBlock(predictionChannel);
  for (int position=0; position < groupIdsBlock.getPositionCount(); position++) {
    long groupId=groupIdsBlock.getGroupId(position);
    long predicted=predictionBlock.getLong(position);
    long label=labelBlock.getLong(position);
    checkArgument(predicted == 1 || predicted == 0,"evaluate_predictions only supports binary classifiers");
    checkArgument(label == 1 || label == 0,"evaluate_predictions only supports binary classifiers");
    if (label == 1) {
      if (predicted == 1) {
        truePositives.increment(groupId);
      }
 else {
        falseNegatives.increment(groupId);
      }
    }
 else {
      if (predicted == 0) {
        trueNegatives.increment(groupId);
      }
 else {
        falsePositives.increment(groupId);
      }
    }
  }
}

{
  Symbol canonical=symbol;
  while (map.containsKey(canonical)) {
    canonical=map.get(canonical);
  }
  return canonical;
}

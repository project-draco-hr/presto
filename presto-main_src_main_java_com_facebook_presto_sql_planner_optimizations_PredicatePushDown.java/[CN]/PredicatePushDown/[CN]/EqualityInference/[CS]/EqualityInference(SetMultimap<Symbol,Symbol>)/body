{
  this.equalitySets=ImmutableSetMultimap.copyOf(equalitySets);
  ImmutableMap.Builder<Symbol,Symbol> builder=ImmutableMap.builder();
  for (  Map.Entry<Symbol,Symbol> entry : equalitySets.entries()) {
    Symbol canonical=entry.getKey();
    Symbol symbol=entry.getValue();
    builder.put(symbol,canonical);
  }
  canonicalMap=builder.build();
}

{
  boolean hadEndOfDataMarker=false;
  for (Iterator<Page> iterator=pages.iterator(); iterator.hasNext(); ) {
    Page page=iterator.next();
    if (page == END_OF_DATA) {
      iterator.remove();
      hadEndOfDataMarker=true;
    }
  }
  return hadEndOfDataMarker;
}

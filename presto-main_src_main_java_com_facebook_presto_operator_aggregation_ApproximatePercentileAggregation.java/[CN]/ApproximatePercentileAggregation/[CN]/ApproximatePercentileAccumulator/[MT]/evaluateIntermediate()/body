{
  BlockBuilder out=getIntermediateType().createBlockBuilder(new BlockBuilderStatus());
  if (digest.getCount() == 0.0) {
    out.appendNull();
  }
 else {
    DynamicSliceOutput sliceOutput=new DynamicSliceOutput(digest.estimatedSerializedSizeInBytes() + SIZE_OF_DOUBLE);
    digest.serialize(sliceOutput);
    sliceOutput.appendDouble(percentile);
    Slice slice=sliceOutput.slice();
    out.appendSlice(slice);
  }
  return out.build();
}

{
  remoteTasks.add(task);
  task.addStateChangeListener(new StateMachine.StateChangeListener<TaskInfo>(){
    @Override public void stateChanged(    TaskInfo taskInfo){
      if (taskInfo.getState().isDone()) {
synchronized (NodeTasks.this) {
          remoteTasks.remove(task);
        }
      }
    }
  }
);
  if (task.getTaskInfo().getState().isDone()) {
    remoteTasks.remove(task);
  }
}

{
  BlockBuilder blockBuilder=state.getBlockBuilder();
  if (blockBuilder == null) {
    blockBuilder=new VariableWidthBlockBuilder(new BlockBuilderStatus());
    state.setBlockBuilder(blockBuilder);
  }
  long startSize=blockBuilder.getSizeInBytes();
  type.appendTo(value,position,blockBuilder);
  state.addMemoryUsage(blockBuilder.getSizeInBytes() - startSize);
}

{
  checkArgument(bytes >= 0,"bytes is negative");
  checkArgument(freeBytes + bytes <= maxBytes,"tried to free more memory than is reserved");
  freeBytes+=bytes;
  if (freeBytes > 0 && future != null) {
    future.set(null);
    future=null;
  }
}

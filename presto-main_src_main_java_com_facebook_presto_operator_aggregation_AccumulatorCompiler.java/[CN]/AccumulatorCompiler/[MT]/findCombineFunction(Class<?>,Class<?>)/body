{
  Method method=CompilerUtils.findPublicStaticMethodWithAnnotation(clazz,CombineFunction.class);
  if (method == null) {
    return null;
  }
  Class<?>[] parameterTypes=method.getParameterTypes();
  checkArgument(parameterTypes.length == 2 && parameterTypes[0] == stateClass && parameterTypes[1] == stateClass,"Combine function must have the signature (%s, %s)",stateClass.getSimpleName(),stateClass.getSimpleName());
  return method;
}

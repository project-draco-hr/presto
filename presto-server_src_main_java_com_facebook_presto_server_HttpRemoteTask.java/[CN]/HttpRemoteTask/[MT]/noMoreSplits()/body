{
synchronized (this) {
    Preconditions.checkState(!noMoreSplits,"noMoreSplits has already been set");
    noMoreSplits=true;
  }
  updateState(false);
}

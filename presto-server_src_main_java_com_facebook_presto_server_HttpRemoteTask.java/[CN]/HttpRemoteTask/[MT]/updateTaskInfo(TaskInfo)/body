{
  while (true) {
    TaskInfo currentValue=taskInfo.get();
    if (currentValue.getState().isDone()) {
      return;
    }
    if (newValue.getVersion() < currentValue.getVersion()) {
      return;
    }
    if (taskInfo.compareAndSet(currentValue,newValue)) {
      return;
    }
  }
}

{
  CurrentRequest requestToCancel=null;
synchronized (this) {
    pendingSplits.clear();
    if (!canceled) {
      requestToCancel=currentRequest;
      canceled=true;
    }
  }
  if (requestToCancel != null) {
    requestToCancel.cancel(true);
  }
  updateState(false);
}

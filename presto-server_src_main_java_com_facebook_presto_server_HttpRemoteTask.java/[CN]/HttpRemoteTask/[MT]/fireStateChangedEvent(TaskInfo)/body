{
  final ImmutableList<TaskStateChangeListener> stateChangeListeners;
synchronized (this) {
    stateChangeListeners=ImmutableList.copyOf(this.stateChangeListeners);
  }
  executor.execute(new Runnable(){
    @Override public void run(){
      for (      TaskStateChangeListener stateChangeListener : stateChangeListeners) {
        try {
          stateChangeListener.stateChanged(newValue);
        }
 catch (        Exception e) {
          log.error(e,"Error notifying state change listener for task %s",newValue.getTaskId());
        }
      }
    }
  }
);
}

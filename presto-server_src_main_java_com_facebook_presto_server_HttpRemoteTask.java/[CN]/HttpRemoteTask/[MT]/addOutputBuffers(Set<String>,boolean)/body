{
  if (getTaskInfo().getState().isDone()) {
    return;
  }
  if (noMoreOutputIds == noMore && this.outputIds.containsAll(outputBuffers)) {
    return;
  }
  Preconditions.checkState(!noMoreOutputIds,"New buffers can not be added after noMoreOutputIds has been set");
  outputIds.addAll(outputBuffers);
  noMoreOutputIds=noMore;
  needsUpdate.set(true);
  scheduleUpdate();
}

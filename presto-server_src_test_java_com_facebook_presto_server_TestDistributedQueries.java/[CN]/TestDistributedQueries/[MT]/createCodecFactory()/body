{
  Injector injector=Guice.createInjector(Stage.PRODUCTION,new JsonModule(),new HandleJsonModule(),new Module(){
    @Override public void configure(    Binder binder){
      JsonBinder.jsonBinder(binder).addSerializerBinding(Expression.class).to(ExpressionSerializer.class);
      JsonBinder.jsonBinder(binder).addDeserializerBinding(Expression.class).to(ExpressionDeserializer.class);
      JsonBinder.jsonBinder(binder).addDeserializerBinding(FunctionCall.class).to(FunctionCallDeserializer.class);
      MapBinder<String,ConnectorHandleResolver> connectorHandleResolverBinder=MapBinder.newMapBinder(binder,String.class,ConnectorHandleResolver.class);
      connectorHandleResolverBinder.addBinding("information_schema").to(InformationSchemaHandleResolver.class).in(Scopes.SINGLETON);
      connectorHandleResolverBinder.addBinding("native").to(NativeHandleResolver.class).in(Scopes.SINGLETON);
      connectorHandleResolverBinder.addBinding("tpch").to(TpchHandleResolver.class).in(Scopes.SINGLETON);
    }
  }
);
  return injector.getInstance(JsonCodecFactory.class);
}

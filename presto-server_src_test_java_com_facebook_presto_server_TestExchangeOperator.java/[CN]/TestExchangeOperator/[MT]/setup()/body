{
  try {
    server1=createServer();
    server2=createServer();
    server3=createServer();
    httpClient=new StandaloneNettyAsyncHttpClient("test");
    executor=newCachedThreadPool(daemonThreadsNamed("test-%s"));
    exchangeClientFactory=new ExchangeClientFactory(new DataSize(32,Unit.MEGABYTE),new DataSize(10,Unit.MEGABYTE),3,httpClient,executor);
  }
 catch (  Throwable e) {
    teardown();
    throw e;
  }
}

{
  Expression condition=treeRewriter.rewrite(node.getCondition(),context);
  Expression trueValue=treeRewriter.rewrite(node.getTrueValue(),context);
  Expression falseValue=null;
  if (node.getFalseValue().isPresent()) {
    falseValue=treeRewriter.rewrite(node.getFalseValue().get(),context);
  }
  return new SearchedCaseExpression(ImmutableList.of(new WhenClause(condition,trueValue)),falseValue);
}

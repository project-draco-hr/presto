{
  if (type.getArrayComponentType().isPrimitive()) {
    return new ByteCodeBlock().append(length).append(TypeInstruction.newPrimitiveArray(type.getArrayComponentType()));
  }
 else {
    return new ByteCodeBlock().append(length).append(TypeInstruction.newObjectArray(type.getArrayComponentType()));
  }
}

{
  Block block=new BlockBuilder(TupleInfo.SINGLE_VARBINARY).append("alice").append("bob").append("charlie").append("dave").build();
  DynamicSliceOutput compressedOutput=new DynamicSliceOutput(1024);
  Encoder encoder=BlocksFileEncoding.SNAPPY.createBlocksWriter(compressedOutput);
  encoder.append(block);
  BlockEncoding snappyEncoding=encoder.finish();
  Block actualBlock=snappyEncoding.readBlock(compressedOutput.slice().getInput());
  BlockAssertions.assertBlockEquals(actualBlock,block);
}

{
  Block block=VARCHAR.createBlockBuilder(new BlockBuilderStatus()).appendSlice(Slices.utf8Slice("alice")).appendSlice(Slices.utf8Slice("bob")).appendSlice(Slices.utf8Slice("charlie")).appendSlice(Slices.utf8Slice("dave")).build();
  DynamicSliceOutput compressedOutput=new DynamicSliceOutput(1024);
  Encoder encoder=BlocksFileEncoding.SNAPPY.createBlocksWriter(compressedOutput);
  encoder.append(block);
  BlockEncoding snappyEncoding=encoder.finish();
  Block actualBlock=snappyEncoding.readBlock(compressedOutput.slice().getInput());
  BlockAssertions.assertBlockEquals(actualBlock,block);
}

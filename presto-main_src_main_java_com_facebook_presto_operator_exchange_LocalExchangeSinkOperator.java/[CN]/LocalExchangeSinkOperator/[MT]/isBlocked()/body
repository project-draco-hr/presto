{
  ListenableFuture<?> blocked=sink.waitForWriting();
  if (blocked.isDone()) {
    return NOT_BLOCKED;
  }
  return blocked;
}

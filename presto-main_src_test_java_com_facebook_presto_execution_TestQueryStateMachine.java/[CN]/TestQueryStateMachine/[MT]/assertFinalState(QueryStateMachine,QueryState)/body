{
  assertTrue(expectedState.isDone());
  assertState(stateMachine,expectedState);
  assertFalse(stateMachine.transitionToPlanning());
  assertState(stateMachine,expectedState);
  assertFalse(stateMachine.transitionToStarting());
  assertState(stateMachine,expectedState);
  assertFalse(stateMachine.transitionToRunning());
  assertState(stateMachine,expectedState);
  assertFalse(stateMachine.transitionToFinished());
  assertState(stateMachine,expectedState);
  assertFalse(stateMachine.transitionToFailed(FAILED_CAUSE));
  assertState(stateMachine,expectedState);
  assertFalse(stateMachine.transitionToFailed(new IOException("failure after finish")));
  assertState(stateMachine,expectedState);
}

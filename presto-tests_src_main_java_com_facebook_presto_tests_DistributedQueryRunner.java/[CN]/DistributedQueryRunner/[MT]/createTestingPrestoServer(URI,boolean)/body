{
  ImmutableMap.Builder<String,String> properties=ImmutableMap.<String,String>builder().put("query.client.timeout","10m").put("exchange.http-client.read-timeout","1h").put("compiler.interpreter-enabled","false").put("compiler.new-bytecode-generator-enabled","true").put("datasources","system").put("distributed-index-joins-enabled","true");
  if (coordinator) {
    properties.put("node-scheduler.include-coordinator","false");
  }
  TestingPrestoServer server=new TestingPrestoServer(coordinator,properties.build(),ENVIRONMENT,discoveryUri,ImmutableList.<Module>of());
  return server;
}

{
  BlockBuilder builder=type.createBlockBuilder(new BlockBuilderStatus(),1,length);
  if (type.getJavaType() == long.class) {
    type.writeLong(builder,input.readLong());
  }
 else   if (type.getJavaType() == double.class) {
    type.writeDouble(builder,input.readDouble());
  }
 else   if (type.getJavaType() == Slice.class) {
    type.writeSlice(builder,input.readSlice(length));
  }
 else   if (type.getJavaType() == boolean.class) {
    type.writeBoolean(builder,input.readByte() != 0);
  }
 else {
    throw new IllegalArgumentException("Unsupported type: " + type.getJavaType().getSimpleName());
  }
  return builder.build();
}

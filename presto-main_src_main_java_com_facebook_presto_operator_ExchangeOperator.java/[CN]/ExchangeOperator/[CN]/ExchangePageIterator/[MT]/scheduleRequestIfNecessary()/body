{
  int bufferedPages=pageBuffer.size();
  if (bufferedPages >= maxBufferedPages) {
    return;
  }
  int neededPages=maxBufferedPages - bufferedPages;
  int clientCount=(int)((1.0 * neededPages / expectedPagesPerRequest) * concurrentRequestMultiplier);
  clientCount=Math.max(clientCount,1);
  int pendingClients=allClients.size() - queuedClients.size() - completedClients.size();
  clientCount-=pendingClients;
  for (int i=0; i < clientCount; i++) {
    HttpPageBufferClient client=queuedClients.poll();
    if (client == null) {
      return;
    }
    client.scheduleRequest();
  }
}

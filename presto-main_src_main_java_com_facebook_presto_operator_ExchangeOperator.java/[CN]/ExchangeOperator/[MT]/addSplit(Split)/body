{
  URI location;
synchronized (this) {
    Preconditions.checkNotNull(split,"split is null");
    Preconditions.checkArgument(split instanceof RemoteSplit,"split is not a remote split");
    checkState(!noMoreLocations,"No more splits already set");
    location=((RemoteSplit)split).getLocation();
    if (!locations.add(location)) {
      return;
    }
  }
  if (activeClient != null) {
    activeClient.addLocation(location);
  }
}

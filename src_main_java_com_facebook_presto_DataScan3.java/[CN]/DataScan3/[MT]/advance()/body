{
  if (valueBlock != null && positionBlock != null) {
    if (valueBlock.getRange().upperEndpoint() < positionBlock.getRange().upperEndpoint()) {
      valueBlock=null;
    }
 else {
      positionBlock=null;
    }
  }
  if (valueBlock == null && source.hasNext()) {
    valueBlock=source.next();
  }
  if (positionBlock == null && positions.hasNext()) {
    positionBlock=positions.next();
  }
  return valueBlock != null && positionBlock != null;
}

{
  if (first) {
    first=false;
    Iterable<List<Object>> data=client.current().getData();
    if (data != null) {
      return data;
    }
  }
  while (client.hasNext()) {
    client.next();
    Iterable<List<Object>> data=client.current().getData();
    if (data != null) {
      return data;
    }
  }
  if (!"FINISHED".equals(client.current().getStats().getState())) {
    throw internalServerError(failureMessage(client.current()));
  }
  return endOfData();
}

{
  if (source.isDirect()) {
    return ByteBuffer.allocateDirect(source.capacity());
  }
  return ByteBuffer.allocate(source.capacity());
}

{
  ImmutableMap.Builder<SchemaTableName,String> views=ImmutableMap.builder();
  List<SchemaTableName> tableNames;
  if (prefix.getTableName() != null) {
    tableNames=ImmutableList.of(new SchemaTableName(prefix.getSchemaName(),prefix.getTableName()));
  }
 else {
    tableNames=listViews(session,prefix.getSchemaName());
  }
  for (  SchemaTableName schemaTableName : tableNames) {
    try {
      Table table=metastore.getTable(schemaTableName.getSchemaName(),schemaTableName.getTableName());
      if (HiveUtil.isPrestoView(table)) {
        views.put(schemaTableName,decodeViewData(table.getViewOriginalText()));
      }
    }
 catch (    NoSuchObjectException ignored) {
    }
  }
  return views.build();
}

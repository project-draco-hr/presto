{
  this.identity=new Identity(requireNonNull(user,"user is null"),Optional.empty());
  this.timeZoneKey=requireNonNull(timeZoneKey,"timeZoneKey is null");
  this.locale=requireNonNull(locale,"locale is null");
  this.startTime=startTime;
  ImmutableMap.Builder<String,PropertyMetadata<?>> builder=ImmutableMap.builder();
  for (  PropertyMetadata<?> propertyMetadata : propertyMetadatas) {
    builder.put(propertyMetadata.getName(),propertyMetadata);
  }
  this.properties=builder.build();
  this.propertyValues=ImmutableMap.copyOf(propertyValues);
}

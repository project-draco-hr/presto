{
  ExchangeOperator operator=new ExchangeOperator(httpClient,TUPLE_INFOS,scheduleTask(server1),scheduleTask(server2),scheduleTask(server3));
  int count=0;
  PageIterator iterator=operator.iterator(new OperatorStats());
  while (count < 20 && iterator.hasNext()) {
    Page page=iterator.next();
    BlockCursor cursor=page.getBlock(0).cursor();
    while (count < 20 && cursor.advanceNextPosition()) {
      count++;
    }
  }
  assertEquals(count,20);
  assertTrue(iterator.hasNext());
  iterator.close();
  assertFalse(iterator.hasNext());
}

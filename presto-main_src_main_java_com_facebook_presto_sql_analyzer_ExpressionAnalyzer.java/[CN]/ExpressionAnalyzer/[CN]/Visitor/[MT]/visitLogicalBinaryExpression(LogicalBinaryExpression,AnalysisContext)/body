{
  Type left=process(node.getLeft(),context);
  if (!isBooleanOrNull(left)) {
    throw new SemanticException(TYPE_MISMATCH,node.getLeft(),"Left side of logical expression must evaluate to a BOOLEAN (actual: %s)",left);
  }
  Type right=process(node.getRight(),context);
  if (!isBooleanOrNull(right)) {
    throw new SemanticException(TYPE_MISMATCH,node.getRight(),"Right side of logical expression must evaluate to a BOOLEAN (actual: %s)",right);
  }
  subExpressionTypes.put(node,BOOLEAN);
  return BOOLEAN;
}

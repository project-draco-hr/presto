{
  subTypes=ImmutableList.copyOf(filter(subTypes,not(Predicates.<Type>equalTo(NULL))));
  Type firstOperand=Iterables.get(subTypes,0,NULL);
  if (!Iterables.all(subTypes,sameTypePredicate(firstOperand))) {
    throw new SemanticException(TYPE_MISMATCH,node,"All %s must be the same type: %s",subTypeName,subTypes);
  }
  return firstOperand;
}

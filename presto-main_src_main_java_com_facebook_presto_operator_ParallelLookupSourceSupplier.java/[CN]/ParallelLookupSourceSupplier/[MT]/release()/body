{
  if (referenceCount.decrementAndGet() == 0) {
    for (    ListenableFuture<SharedLookupSource> future : partitions) {
      Futures.addCallback(future,new FutureCallback<SharedLookupSource>(){
        @Override public void onSuccess(        SharedLookupSource result){
          result.freeMemory();
        }
        @Override public void onFailure(        Throwable t){
        }
      }
);
    }
  }
}

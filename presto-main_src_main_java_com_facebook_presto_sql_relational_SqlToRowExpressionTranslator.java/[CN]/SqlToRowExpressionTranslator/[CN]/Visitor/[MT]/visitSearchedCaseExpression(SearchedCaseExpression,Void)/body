{
  RowExpression expression=constantNull(types.get(node));
  if (node.getDefaultValue() != null) {
    expression=process(node.getDefaultValue(),context);
  }
  for (  WhenClause clause : Lists.reverse(node.getWhenClauses())) {
    expression=call(Signatures.ifSignature(types.get(node)),types.get(node),process(clause.getOperand(),context),process(clause.getResult(),context),expression);
  }
  return expression;
}

{
  super(finalType,intermediateType,parameterType);
  java.lang.reflect.Type[] types=TypeParameterUtils.getTypeParameters(AbstractAggregationFunction.class,getClass());
  checkState(types.length == 1 && types[0] instanceof Class);
  stateFactory=new StateCompiler().generateStateFactory((Class<T>)types[0]);
  stateSerializer=new StateCompiler().generateStateSerializer((Class<T>)types[0]);
  this.approximationSupported=approximationSupported;
}

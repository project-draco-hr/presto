{
  Block elementsBlock=readStructuralBlock(array);
  if (elementsBlock.getPositionCount() == 0) {
    return array;
  }
  TypedSet typedSet=new SimpleTypedSet(type,elementsBlock.getPositionCount());
  BlockBuilder distinctElementBlockBuilder=new VariableWidthBlockBuilder(new BlockBuilderStatus(),elementsBlock.getPositionCount());
  for (int i=0; i < elementsBlock.getPositionCount(); i++) {
    if (!typedSet.contains(elementsBlock,i)) {
      typedSet.add(elementsBlock,i);
      type.appendTo(elementsBlock,i,distinctElementBlockBuilder);
    }
  }
  return buildStructuralSlice(distinctElementBlockBuilder);
}

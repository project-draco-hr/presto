{
  TupleDescriptor descriptor=analysis.getTableDescriptor(table);
  ImmutableMap.Builder<String,Symbol> attributes=ImmutableMap.builder();
  List<Field> fields=descriptor.getFields();
  for (  Field field : fields) {
    Symbol symbol=field.getSymbol();
    String attribute=field.getAttribute().get();
    attributes.put(attribute,symbol);
  }
  QualifiedName tableFullName=Iterables.getFirst(fields,null).getPrefix().get();
  String catalogName=tableFullName.getParts().get(0);
  String schemaName=tableFullName.getParts().get(1);
  String tableName=tableFullName.getParts().get(2);
  return new TableScan(catalogName,schemaName,tableName,attributes.build());
}

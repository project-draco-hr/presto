{
  this.source=requireNonNull(source,"source is null");
  requireNonNull(sliceInput,"sliceInput is null");
  this.compressionKind=requireNonNull(compressionKind,"compressionKind is null");
  this.maxBufferSize=bufferSize;
  if (compressionKind == UNCOMPRESSED) {
    this.current=sliceInput;
    this.compressedSliceInput=EMPTY_SLICE.getInput();
  }
 else {
    checkArgument(compressionKind == SNAPPY || compressionKind == ZLIB,"%s compression not supported",compressionKind);
    this.compressedSliceInput=requireNonNull(sliceInput,"compressedSliceInput is null");
    this.current=EMPTY_SLICE.getInput();
  }
}

{
  this.source=checkNotNull(source,"source is null");
  checkNotNull(sliceInput,"sliceInput is null");
  this.compressionKind=checkNotNull(compressionKind,"compressionKind is null");
  this.maxBufferSize=bufferSize;
  if (compressionKind == UNCOMPRESSED) {
    this.current=sliceInput;
    this.compressedSliceInput=EMPTY_SLICE.getInput();
  }
 else {
    checkArgument(compressionKind == SNAPPY || compressionKind == ZLIB,"%s compression not supported",compressionKind);
    this.compressedSliceInput=checkNotNull(sliceInput,"compressedSliceInput is null");
    this.current=EMPTY_SLICE.getInput();
  }
}

{
  Inflater inflater=new Inflater(true);
  try {
    inflater.setInput((byte[])in.getBase(),(int)(in.getAddress() - ARRAY_BYTE_BASE_OFFSET),in.length());
    byte[] outArray=(byte[])buffer.getBase();
    int outOffset=(int)(buffer.getAddress() - ARRAY_BYTE_BASE_OFFSET);
    int outLength=buffer.length();
    int uncompressedLength=inflater.inflate(outArray,outOffset,outLength);
    if (!inflater.finished()) {
      throw new OrcCorruptionException("Could not decompress all input (output buffer too small?)");
    }
    return uncompressedLength;
  }
 catch (  DataFormatException e) {
    throw new OrcCorruptionException(e,"Invalid compressed stream");
  }
 finally {
    inflater.end();
  }
}

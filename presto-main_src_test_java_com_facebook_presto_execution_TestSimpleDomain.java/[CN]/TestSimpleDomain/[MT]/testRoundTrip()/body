{
  SimpleMarker low=new SimpleMarker(true,new SerializableNativeValue(Long.class,new Long(10)));
  SimpleMarker high=new SimpleMarker(false,new SerializableNativeValue(Long.class,new Long(100)));
  List<SimpleRange> ranges=ImmutableList.of(new SimpleRange(Optional.fromNullable(low),Optional.fromNullable(high)));
  SimpleDomain expected=new SimpleDomain(true,Optional.fromNullable(ranges));
  String json=codec.toJson(expected);
  SimpleDomain actual=codec.fromJson(json);
  assertEquals(actual,expected);
}

{
  CompilerContext compilerContext=new CompilerContext();
  Block deserializerBody=definition.declareMethod(compilerContext,a(PUBLIC),"deserialize",type(void.class),arg("block",com.facebook.presto.spi.block.Block.class),arg("index",int.class),arg("state",Object.class)).getBody();
  if (fields.size() == 1) {
    generatePrimitiveDeserializer(deserializerBody,getSetter(clazz,fields.get(0)));
  }
 else {
    Variable slice=compilerContext.declareVariable(Slice.class,"slice");
    deserializerBody.comment("Slice slice = block.getSlice(index, 0, block.getLength(index));").getVariable("block").getVariable("index").push(0).getVariable("block").getVariable("index").invokeInterface(com.facebook.presto.spi.block.Block.class,"getLength",int.class,int.class).invokeInterface(com.facebook.presto.spi.block.Block.class,"getSlice",Slice.class,int.class,int.class,int.class).putVariable(slice);
    for (    StateField field : fields) {
      generateDeserializeFromSlice(deserializerBody,slice,getSetter(clazz,field),offsetOfField(field,fields));
    }
  }
  deserializerBody.ret();
}

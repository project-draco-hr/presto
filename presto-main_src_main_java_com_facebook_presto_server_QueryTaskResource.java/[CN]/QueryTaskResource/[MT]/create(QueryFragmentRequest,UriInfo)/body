{
  try {
    checkNotNull(queryFragmentRequest,"queryFragmentRequest is null");
    QueryTask queryTask=queryTaskManager.createQueryTask(queryFragmentRequest.getFragment(),queryFragmentRequest.getOutputIds(),queryFragmentRequest.getFragmentSources());
    URI pagesUri=uriBuilderFrom(uriInfo.getRequestUri()).appendPath(queryTask.getTaskId()).build();
    QueryTaskInfo queryTaskInfo=queryTask.getQueryTaskInfo();
    return Response.created(pagesUri).entity(queryTaskInfo).build();
  }
 catch (  Exception e) {
    e.printStackTrace();
    throw Throwables.propagate(e);
  }
}

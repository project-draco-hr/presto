{
  if (settableFuture.isDone()) {
    return;
  }
  try {
    T result=timeoutTask.call();
    settableFuture.set(result);
  }
 catch (  Throwable t) {
    settableFuture.setException(t);
  }
  Future<T> future=futureReference.get();
  if (future != null) {
    future.cancel(true);
  }
}
